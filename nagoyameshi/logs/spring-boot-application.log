2025-05-04T02:05:46.078+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3569edd5
2025-05-04T02:05:49.168+09:00  WARN 11728 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:05:50.929+09:00  WARN 11728 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:05:51.005+09:00  INFO 11728 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:05:51.484+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:05:51.744+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:05:51.920+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:05:52.389+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:05:52.550+09:00 DEBUG 11728 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:05:53.361+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53a3ccc
2025-05-04T02:05:53.704+09:00  WARN 11728 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:05:53.912+09:00  WARN 11728 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:05:53.921+09:00  INFO 11728 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:05:53.952+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:05:53.990+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:05:54.016+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:05:54.065+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:05:54.081+09:00 DEBUG 11728 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:05:54.158+09:00  INFO 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:05:54.158+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:05:54.158+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:05:54.158+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:05:54.160+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7b91e3d4
2025-05-04T02:05:54.160+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7a88e6a9
2025-05-04T02:05:54.161+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:05:54.161+09:00  INFO 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-05-04T02:05:54.177+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.177+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.178+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.178+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.180+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.182+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.183+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.184+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.188+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.322+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:54.363+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:54.376+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.377+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.378+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.384+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@54c76c23}
2025-05-04T02:05:54.384+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@54c76c23}
2025-05-04T02:05:54.385+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:54.386+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@54c76c23}
2025-05-04T02:05:54.387+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@54c76c23}
2025-05-04T02:05:54.387+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@401b7109]
2025-05-04T02:05:54.393+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:54.393+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@aba3735, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@16bba8ae]
2025-05-04T02:05:54.407+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:05:54.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@aba3735, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:54.419+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:54.434+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.435+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.436+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.436+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.436+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.437+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.438+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.438+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.438+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.439+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.441+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.441+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.442+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.443+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.444+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.446+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.447+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.448+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.448+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.451+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:54.453+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:54.455+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.456+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.457+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.457+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4bb747c1}
2025-05-04T02:05:54.458+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4bb747c1}
2025-05-04T02:05:54.458+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:54.458+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:54.458+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@18b12df9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3ef8de39]
2025-05-04T02:05:54.458+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:05:54.459+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@18b12df9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:54.459+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:05:54.462+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:05:54.464+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:05:54.505+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:05:54.506+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:54.509+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:54.510+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:54.530+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:05:54.546+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:54.944+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:54.949+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.949+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.951+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.952+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.952+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.953+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.954+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.955+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.955+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.955+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.956+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.957+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.957+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.957+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.957+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.958+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.959+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.959+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.961+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.962+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.964+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:05:54.966+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:54.968+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:05:54.969+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:54.971+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.972+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.974+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.974+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.975+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.976+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.977+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.978+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.978+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.978+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.979+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.980+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.981+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:54.982+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.983+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.984+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:54.984+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.984+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.985+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.987+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:54.988+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:54.990+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.992+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.993+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:05:54.993+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@111c9be}
2025-05-04T02:05:54.993+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@111c9be}
2025-05-04T02:05:54.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:54.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:54.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2176d934, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7a506493]
2025-05-04T02:05:54.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:05:54.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2176d934, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:54.995+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:05:54.995+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:05:54.995+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:05:55.002+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:05:55.005+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:55.055+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:55.065+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.065+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.066+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.067+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.067+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.067+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.068+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.069+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.070+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.070+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.071+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.071+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.071+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.071+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.072+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.072+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.073+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.073+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.074+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.076+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:55.078+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:55.080+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.081+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.082+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.083+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7959d16a}
2025-05-04T02:05:55.083+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7959d16a}
2025-05-04T02:05:55.083+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:55.083+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:55.084+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1d6c69ff, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@34dcd7a1]
2025-05-04T02:05:55.084+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:05:55.084+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1d6c69ff, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:55.084+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:55.085+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.085+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.086+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.086+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.086+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.087+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.087+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.088+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.088+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.088+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.091+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.091+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.091+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.092+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.092+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.093+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:05:55.094+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:55.094+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:05:55.094+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:55.095+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.095+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.096+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.096+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.096+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.096+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.097+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.097+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.098+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.098+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:05:55.098+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.099+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.099+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.102+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:05:55.102+09:00  INFO 11728 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:05:55.106+09:00 DEBUG 11728 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:05:55.107+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.107+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.108+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.108+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.108+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.108+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.110+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.110+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.112+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:05:55.112+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.115+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:05:55.116+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3905229]; rollback [true]
2025-05-04T02:05:55.117+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.117+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.118+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.120+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:55.121+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:55.123+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.124+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.125+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.126+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12139db0}
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12139db0}
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@66beb02d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7d59e235]
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12139db0}
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:55.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12139db0}
2025-05-04T02:05:55.128+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:55.128+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12139db0}
2025-05-04T02:05:55.129+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@3d118651]
2025-05-04T02:05:55.132+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:05:55.133+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@66beb02d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:55.133+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:55.134+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:05:55.185+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.186+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.186+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.186+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.187+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.187+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.188+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.188+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:05:55.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.194+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.194+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.195+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.195+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.196+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.198+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:55.205+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:55.207+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.208+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.211+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.213+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@36e8e3e1}
2025-05-04T02:05:55.214+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@36e8e3e1}
2025-05-04T02:05:55.214+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:55.215+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:55.215+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4c3663fc, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@64f248ea]
2025-05-04T02:05:55.217+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:05:55.218+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4c3663fc, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:55.219+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:55.221+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.222+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.223+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.223+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.223+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.224+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.225+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.225+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.226+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.226+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.227+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.227+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.227+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.227+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.227+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.230+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.231+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.231+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.232+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.234+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.235+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:05:55.235+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:55.236+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:05:55.237+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:55.238+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.238+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.239+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.240+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.240+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.240+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.241+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.241+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.242+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.242+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.243+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.243+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.243+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.243+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.244+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.244+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.245+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.245+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.245+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.248+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:55.251+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:55.253+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.255+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.256+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1155ab2c}
2025-05-04T02:05:55.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1155ab2c}
2025-05-04T02:05:55.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:55.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:55.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6f78eb17, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7d49ebf2]
2025-05-04T02:05:55.258+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:05:55.258+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6f78eb17, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:55.258+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:05:55.258+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:05:55.258+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:05:55.260+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:05:55.264+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:55.407+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:55.412+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.414+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.415+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.416+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.416+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.416+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.416+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.416+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.417+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.419+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.419+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.419+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.421+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.421+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.422+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:05:55.423+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:55.423+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:05:55.423+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:55.424+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.425+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.426+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.426+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.426+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.426+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.428+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.428+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.428+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.428+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.428+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.428+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.429+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.429+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.429+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.430+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.430+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:05:55.431+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.431+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:05:55.432+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3905229]; rollback [true]
2025-05-04T02:05:55.432+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.432+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.433+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.436+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.437+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.437+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.789+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:05:55.798+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@196e494d}
2025-05-04T02:05:55.798+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@196e494d}
2025-05-04T02:05:55.798+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:55.798+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:55.798+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2213c8fe]
2025-05-04T02:05:55.798+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@196e494d}
2025-05-04T02:05:55.799+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:55.799+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@196e494d}
2025-05-04T02:05:55.799+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:55.801+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:05:55.802+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:55.802+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:05:55.802+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:05:55.803+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:05:55.861+09:00 DEBUG 11728 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:05:55.866+09:00 DEBUG 11728 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:05:55.866+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:05:55.869+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:55.960+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:55.966+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.966+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.967+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.967+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.969+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.970+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.970+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.970+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.971+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:05:55.971+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.972+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.979+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.979+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.979+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.980+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.981+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.981+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.982+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:05:55.982+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.982+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:05:55.983+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3905229]; rollback [true]
2025-05-04T02:05:55.983+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.983+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.984+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.984+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.985+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3a1d3fed}
2025-05-04T02:05:55.985+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:55.985+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3a1d3fed}
2025-05-04T02:05:55.985+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:55.986+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:05:55.986+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:55.987+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:55.987+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:05:55.993+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.993+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.994+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.995+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.995+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.995+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.996+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:05:55.996+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:55.997+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.998+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.998+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.998+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:55.998+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:05:55.998+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.000+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.000+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.000+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.000+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.003+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.006+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.007+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.008+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.009+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.009+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ff5aa42}
2025-05-04T02:05:56.009+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ff5aa42}
2025-05-04T02:05:56.009+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.009+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.009+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6ee9fcac, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@488897ef]
2025-05-04T02:05:56.010+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:05:56.010+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6ee9fcac, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:56.010+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:05:56.010+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:05:56.010+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:05:56.012+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:56.085+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:56.086+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.087+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.087+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.088+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.088+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.088+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.089+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.090+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.090+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.090+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.090+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.091+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.091+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.091+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.093+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.094+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.097+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.099+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.100+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.100+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7167ca15}
2025-05-04T02:05:56.100+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7167ca15}
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@7f9224e1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6915e5ca]
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@7f9224e1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:05:56.101+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:05:56.102+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:05:56.103+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:05:56.106+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:56.127+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:56.130+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.131+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.132+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.132+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.132+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.132+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.133+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.133+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.133+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.133+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.134+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.134+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.134+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.134+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.134+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.135+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.135+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:05:56.136+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.136+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:05:56.137+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3905229]; rollback [true]
2025-05-04T02:05:56.137+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.137+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.137+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.139+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.140+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.142+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.142+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.143+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5bf9c995}
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5bf9c995}
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3200f6e5, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1703b09a]
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5bf9c995}
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5bf9c995}
2025-05-04T02:05:56.144+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:56.145+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:05:56.145+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3200f6e5, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:56.145+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:05:56.145+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:05:56.146+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:05:56.147+09:00 DEBUG 11728 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:05:56.148+09:00 DEBUG 11728 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:05:56.148+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:05:56.184+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:05:56.186+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:05:56.188+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.189+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.189+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.189+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.189+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.190+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.190+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.190+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.191+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:05:56.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.192+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.193+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.194+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.194+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.194+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.197+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.198+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.200+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.201+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.202+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.202+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2d758834}
2025-05-04T02:05:56.202+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2d758834}
2025-05-04T02:05:56.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@64010508, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4abfdad1]
2025-05-04T02:05:56.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:05:56.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@64010508, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:56.203+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:56.204+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.204+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.205+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.205+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.205+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.206+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.206+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.206+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.206+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.206+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.207+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.208+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.208+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.208+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.208+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.209+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.209+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:05:56.209+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.209+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:05:56.210+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3905229]; rollback [true]
2025-05-04T02:05:56.210+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.211+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.211+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.212+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.215+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:05:56.217+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@5ab6cb92}
2025-05-04T02:05:56.217+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:56.217+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@5ab6cb92}
2025-05-04T02:05:56.217+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:56.217+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:05:56.219+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:56.219+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:56.220+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:05:56.232+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.232+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.233+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.233+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.233+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.234+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.235+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.235+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.236+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:05:56.236+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.236+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.237+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.237+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.237+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.237+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.238+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.239+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.240+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.240+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.241+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.244+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.248+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.250+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.251+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.253+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.254+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7bbc0c6b}
2025-05-04T02:05:56.254+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7bbc0c6b}
2025-05-04T02:05:56.254+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.254+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.254+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@56b37d59, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@69c4bbfe]
2025-05-04T02:05:56.255+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:05:56.255+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@56b37d59, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:56.256+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:56.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.257+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.259+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.259+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.260+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.260+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.261+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.261+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.262+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.262+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.264+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.264+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.264+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.265+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.265+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.266+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.266+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.266+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.267+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.269+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.271+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.274+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.274+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.275+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.276+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2f9f939}
2025-05-04T02:05:56.276+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2f9f939}
2025-05-04T02:05:56.276+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.276+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.276+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@113366e7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@32c3102]
2025-05-04T02:05:56.276+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:05:56.277+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@113366e7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:05:56.277+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:05:56.277+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:05:56.277+09:00 DEBUG 11728 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:05:56.281+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:05:56.287+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:05:56.289+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:05:56.314+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:05:56.315+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.315+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.316+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.316+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.316+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.316+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.317+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.317+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.317+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.317+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.318+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.318+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.318+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.318+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.319+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.319+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.319+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.319+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.320+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.321+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.321+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:05:56.321+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:56.322+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:05:56.322+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:56.322+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.323+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.323+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.324+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.324+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.324+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.325+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.325+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.325+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.325+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.325+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.326+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.326+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.326+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.326+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.327+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.327+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.327+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.327+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.329+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.332+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.334+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.335+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.335+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.336+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6f20adb6}
2025-05-04T02:05:56.336+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6f20adb6}
2025-05-04T02:05:56.336+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.336+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.336+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@55b89b11, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@17ee816c]
2025-05-04T02:05:56.337+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:05:56.337+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@55b89b11, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:56.337+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:56.337+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.337+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.339+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.339+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.339+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.339+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.340+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.341+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.341+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.341+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.342+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.342+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.342+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.342+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.342+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.343+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.343+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:05:56.343+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.344+09:00 DEBUG 11728 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:05:56.345+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3905229]; rollback [true]
2025-05-04T02:05:56.346+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.346+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.348+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.349+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:05:56.352+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:05:56.354+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.354+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.355+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.385+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:05:56.387+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@37ea5612}
2025-05-04T02:05:56.387+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@37ea5612}
2025-05-04T02:05:56.387+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@b31cd6b] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2f6601f4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6118ad56]
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@37ea5612}
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@37ea5612}
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e59844f] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:05:56.388+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:05:56.389+09:00 DEBUG 11728 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2f6601f4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:05:56.389+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:05:56.390+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:05:56.391+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.391+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.392+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.392+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.392+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.393+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.393+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.393+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.395+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:05:56.395+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.395+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.396+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.396+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.397+09:00 DEBUG 11728 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.397+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.397+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.398+09:00 DEBUG 11728 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.398+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.399+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.399+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.401+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.401+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:05:56.402+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:05:56.402+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:05:56.402+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:05:56.403+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.403+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.404+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.404+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.404+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.404+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.405+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.405+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.405+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.405+09:00 DEBUG 11728 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:05:56.406+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.406+09:00 DEBUG 11728 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@4ff7de80 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 418, missCount = 2, failureCount = 0]
2025-05-04T02:05:56.406+09:00 DEBUG 11728 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:05:56.413+09:00 DEBUG 11728 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3569edd5, started on Sun May 04 02:05:46 GMT+09:00 2025
2025-05-04T02:05:56.440+09:00 DEBUG 11728 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@53a3ccc, started on Sun May 04 02:05:53 GMT+09:00 2025
