2025-05-04T02:10:10.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7d0332e1
2025-05-04T02:10:13.103+09:00  WARN 13476 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:10:14.976+09:00  WARN 13476 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:10:15.034+09:00  INFO 13476 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:10:15.384+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:10:15.634+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:10:15.773+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:10:16.190+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:10:16.357+09:00 DEBUG 13476 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:10:17.122+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@435848de
2025-05-04T02:10:17.485+09:00  WARN 13476 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:10:17.702+09:00  WARN 13476 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:10:17.709+09:00  INFO 13476 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:10:17.739+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:10:17.778+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:10:17.803+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:10:17.854+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:10:17.870+09:00 DEBUG 13476 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:10:17.936+09:00  INFO 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:10:17.937+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:10:17.937+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:10:17.937+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:10:17.939+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f511a8e
2025-05-04T02:10:17.939+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4d08fee2
2025-05-04T02:10:17.939+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:10:17.939+09:00  INFO 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-05-04T02:10:17.955+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:10:17.955+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:17.956+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:17.956+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:10:17.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:10:17.959+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:17.960+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:10:17.960+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:10:17.966+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.098+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.135+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.147+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.147+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.150+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.155+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1d8f835c}
2025-05-04T02:10:18.155+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1d8f835c}
2025-05-04T02:10:18.156+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:18.157+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1d8f835c}
2025-05-04T02:10:18.157+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1d8f835c}
2025-05-04T02:10:18.158+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@5135b459]
2025-05-04T02:10:18.162+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:18.163+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@e206be5, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5f2312f3]
2025-05-04T02:10:18.177+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:10:18.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@e206be5, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:18.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:18.199+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.200+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.201+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.201+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.202+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.202+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.203+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.204+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.204+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.204+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.206+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.206+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.207+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.207+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.207+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.209+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.210+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.210+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.210+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.213+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.215+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.217+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.218+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.219+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.220+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@74de1e9d}
2025-05-04T02:10:18.220+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@74de1e9d}
2025-05-04T02:10:18.220+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:18.221+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:18.221+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@43b9ef41, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@71c45428]
2025-05-04T02:10:18.222+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:10:18.222+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@43b9ef41, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:18.222+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:10:18.225+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:10:18.226+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:10:18.263+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:10:18.267+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.268+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.270+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.286+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:10:18.297+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:18.691+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:18.695+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.696+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.699+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.699+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.699+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.700+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.701+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.702+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.702+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.702+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.703+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.703+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.703+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.704+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.704+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.704+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.705+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.705+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.706+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.707+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.709+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:10:18.710+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:18.713+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:10:18.714+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:18.716+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.717+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.719+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.719+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.719+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.719+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.720+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.720+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.721+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.721+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.722+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.724+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.725+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.725+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.725+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.727+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.727+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.727+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.727+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.732+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.734+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.735+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.737+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.738+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.739+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6b13f456}
2025-05-04T02:10:18.740+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6b13f456}
2025-05-04T02:10:18.740+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:18.740+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:18.740+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2e006f67, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@63eebb56]
2025-05-04T02:10:18.741+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:10:18.741+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2e006f67, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:18.741+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:10:18.741+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:10:18.742+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:10:18.749+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:10:18.752+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:18.807+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:18.817+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.817+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.818+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.819+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.819+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.819+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.820+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.820+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.820+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.820+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.821+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.821+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.822+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.822+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.822+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.823+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.823+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.824+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.824+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.826+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.827+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.830+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.831+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.832+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.833+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@154f5d37}
2025-05-04T02:10:18.833+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@154f5d37}
2025-05-04T02:10:18.833+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:18.833+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:18.833+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@58c84be1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2e7227e6]
2025-05-04T02:10:18.834+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:10:18.834+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@58c84be1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:18.834+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:18.835+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.836+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.837+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.837+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.837+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.838+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.838+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.839+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.839+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.839+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.840+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.840+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.840+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.840+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.840+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.841+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.841+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.842+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.842+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.843+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.844+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:10:18.844+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:18.845+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:10:18.845+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:18.846+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.846+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.847+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.847+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.847+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.848+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.848+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.848+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.849+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.849+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:10:18.849+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.849+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.849+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.852+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:10:18.852+09:00  INFO 13476 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:10:18.857+09:00 DEBUG 13476 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:10:18.857+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.858+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.859+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.859+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.859+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.859+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.860+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.861+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.864+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:10:18.864+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.867+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:10:18.869+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3e1ba156]; rollback [true]
2025-05-04T02:10:18.870+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.870+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.870+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.872+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.873+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.875+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.876+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.877+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.878+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56e32a23}
2025-05-04T02:10:18.878+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56e32a23}
2025-05-04T02:10:18.878+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:18.878+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:18.879+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@11caa21d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1b0db8b1]
2025-05-04T02:10:18.879+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56e32a23}
2025-05-04T02:10:18.879+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:18.879+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56e32a23}
2025-05-04T02:10:18.880+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:18.882+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56e32a23}
2025-05-04T02:10:18.882+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@992f314]
2025-05-04T02:10:18.884+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:10:18.886+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@11caa21d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:18.886+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:18.887+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:10:18.943+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.943+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.945+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.945+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.946+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.949+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:10:18.950+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.950+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.951+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.951+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.951+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.951+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.952+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.953+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.953+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.953+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.954+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.956+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.959+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.960+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.961+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.962+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@38ce90b4}
2025-05-04T02:10:18.962+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@38ce90b4}
2025-05-04T02:10:18.963+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:18.963+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:18.964+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@76fece79, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@491ef90c]
2025-05-04T02:10:18.965+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:10:18.966+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@76fece79, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:18.966+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:18.968+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.968+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.969+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.969+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.969+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.970+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.971+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.971+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.971+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.971+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.973+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.973+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.973+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.973+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.974+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.974+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.975+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.975+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.976+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.977+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.977+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:10:18.979+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:18.979+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:10:18.979+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:18.981+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.981+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.982+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.983+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.983+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.983+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.984+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.984+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.984+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.984+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.985+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.985+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.985+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:18.986+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.986+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.987+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:18.987+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.989+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.989+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.991+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:18.994+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:18.997+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:10:18.999+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.000+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1ed28f57}
2025-05-04T02:10:19.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1ed28f57}
2025-05-04T02:10:19.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:19.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:19.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@414fd9f2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2d3697ae]
2025-05-04T02:10:19.002+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:10:19.002+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@414fd9f2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:19.002+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:10:19.003+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:10:19.003+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:10:19.006+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:10:19.010+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:19.174+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:19.182+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.182+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.183+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.183+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.183+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.184+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.189+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.190+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:10:19.190+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:19.191+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:10:19.191+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:19.192+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.192+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.196+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.196+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.196+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.197+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.197+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:10:19.198+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.198+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:10:19.199+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3e1ba156]; rollback [true]
2025-05-04T02:10:19.199+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.199+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.200+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.202+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.203+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.204+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.552+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@371dc46e}
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@371dc46e}
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6e82feeb]
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@371dc46e}
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@371dc46e}
2025-05-04T02:10:19.561+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:19.562+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:10:19.563+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:19.564+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:10:19.564+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:10:19.565+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:10:19.628+09:00 DEBUG 13476 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:10:19.633+09:00 DEBUG 13476 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:10:19.633+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:10:19.636+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:19.736+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:19.746+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.747+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.749+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.749+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.753+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.754+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.754+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.754+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.755+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:10:19.755+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.756+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.770+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.770+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.770+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.770+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.770+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.771+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.771+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:10:19.771+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.771+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:10:19.772+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3e1ba156]; rollback [true]
2025-05-04T02:10:19.772+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.772+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.773+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.774+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.775+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@b536551}
2025-05-04T02:10:19.775+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:19.775+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@b536551}
2025-05-04T02:10:19.775+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:19.776+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:10:19.776+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:19.776+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:19.777+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:10:19.779+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.780+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.781+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.781+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.781+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.781+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.783+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.783+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.784+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:10:19.784+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.784+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.785+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.785+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.785+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.785+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.785+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.786+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.786+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.786+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.787+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.788+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:19.789+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:19.791+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.792+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.792+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.793+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@66ac3957}
2025-05-04T02:10:19.793+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@66ac3957}
2025-05-04T02:10:19.793+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:19.793+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:19.793+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@8da0e54, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7af8b02]
2025-05-04T02:10:19.794+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:10:19.794+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@8da0e54, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:19.794+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:10:19.794+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:10:19.794+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:10:19.795+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:19.890+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:19.892+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.892+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.893+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.893+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.893+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.893+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.894+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.894+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.894+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.894+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.896+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.896+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.896+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.897+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.899+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.900+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.901+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.901+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.902+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.903+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:19.905+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:19.907+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.908+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.909+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.910+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4613274d}
2025-05-04T02:10:19.910+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4613274d}
2025-05-04T02:10:19.910+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:19.910+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:19.910+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@18fb5226, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@403a2ed5]
2025-05-04T02:10:19.911+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:10:19.911+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@18fb5226, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:19.911+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:10:19.911+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:10:19.911+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:10:19.913+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:10:19.917+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:19.940+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:19.942+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.943+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.943+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.943+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.943+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.944+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.945+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.946+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.946+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.946+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:19.946+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.947+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.947+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:19.948+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:10:19.948+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.948+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:10:19.949+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3e1ba156]; rollback [true]
2025-05-04T02:10:19.949+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.949+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.950+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.951+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:19.952+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:19.954+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.955+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.956+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.956+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@58decd96}
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@58decd96}
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@67ee26af, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@57cc535]
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@58decd96}
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@58decd96}
2025-05-04T02:10:19.957+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:19.958+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:10:19.958+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@67ee26af, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:19.958+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:10:19.958+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:10:19.959+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:10:19.959+09:00 DEBUG 13476 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:10:19.960+09:00 DEBUG 13476 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:10:19.960+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:10:19.992+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:10:19.993+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:10:19.995+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.995+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.996+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.996+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.997+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.998+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.999+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:10:19.999+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.000+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:10:20.000+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.000+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.001+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.002+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.002+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.002+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.003+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.003+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.003+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.003+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.005+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:20.006+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:20.009+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.009+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.010+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3feec3b0}
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3feec3b0}
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2939bfa0, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@45bf1b4e]
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:10:20.011+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2939bfa0, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:20.012+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:20.012+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.012+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.013+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.013+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.013+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.014+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.015+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.015+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.015+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.015+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.016+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.016+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.016+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.017+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.017+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.017+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.018+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:10:20.018+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.018+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:10:20.019+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3e1ba156]; rollback [true]
2025-05-04T02:10:20.019+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.019+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.019+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.020+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.021+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:10:20.023+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@283fe454}
2025-05-04T02:10:20.024+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:20.024+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@283fe454}
2025-05-04T02:10:20.024+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:20.024+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:10:20.025+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:20.025+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:20.026+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:10:20.032+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.033+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.033+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.034+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.034+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.034+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.034+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.035+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.036+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:10:20.036+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.036+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.037+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.037+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.037+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.037+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.037+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.038+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.038+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.038+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.038+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.041+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:20.043+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:20.045+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.045+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.046+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.047+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@79d72d99}
2025-05-04T02:10:20.047+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@79d72d99}
2025-05-04T02:10:20.047+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:20.048+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:20.048+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@16b5c059, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@482b6e57]
2025-05-04T02:10:20.048+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:10:20.048+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@16b5c059, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:20.049+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:20.049+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.049+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.050+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.050+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.050+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.050+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.052+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.052+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.052+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.052+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.053+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.055+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:20.057+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:20.060+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.060+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.061+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.062+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@51e0629a}
2025-05-04T02:10:20.062+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@51e0629a}
2025-05-04T02:10:20.062+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:20.062+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:20.062+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2fc2305a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@72c50c9f]
2025-05-04T02:10:20.063+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:10:20.064+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2fc2305a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:10:20.065+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:10:20.065+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:10:20.065+09:00 DEBUG 13476 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:10:20.070+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:10:20.077+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:10:20.081+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:10:20.102+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:10:20.103+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.103+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.104+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.104+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.104+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.105+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.105+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.105+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.105+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.105+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.106+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.107+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.109+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.110+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.110+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:10:20.111+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:20.111+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:10:20.111+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:20.112+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.113+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.116+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.116+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.117+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.117+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.118+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.118+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.118+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.118+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.119+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.120+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.120+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.120+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.120+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.121+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.121+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.121+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.122+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.124+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:20.125+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:20.127+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.128+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.128+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.129+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3baca7fb}
2025-05-04T02:10:20.129+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3baca7fb}
2025-05-04T02:10:20.129+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:20.129+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:20.129+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4c60d61, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@557de967]
2025-05-04T02:10:20.131+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:10:20.132+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4c60d61, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:20.132+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:20.133+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.134+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.134+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.135+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.135+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.135+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.136+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.137+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.137+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.137+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.138+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.138+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.138+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.138+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.138+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.139+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.139+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:10:20.139+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.139+09:00 DEBUG 13476 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:10:20.140+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3e1ba156]; rollback [true]
2025-05-04T02:10:20.141+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.141+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.142+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.143+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:10:20.145+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:10:20.146+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.147+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.148+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.177+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@ccba99}
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@ccba99}
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@6b8773c7] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1aa75e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@53b2e5]
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@ccba99}
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@ccba99}
2025-05-04T02:10:20.179+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@488ae823] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:10:20.180+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:10:20.180+09:00 DEBUG 13476 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1aa75e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:10:20.180+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:10:20.181+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:10:20.183+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.183+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.184+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.184+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.184+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.185+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.186+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.187+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.189+09:00 DEBUG 13476 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.189+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.189+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.190+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.191+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.191+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:10:20.192+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:10:20.192+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:10:20.192+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:10:20.192+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.193+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.194+09:00 DEBUG 13476 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:10:20.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@72090715 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 418, missCount = 2, failureCount = 0]
2025-05-04T02:10:20.195+09:00 DEBUG 13476 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:10:20.202+09:00 DEBUG 13476 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7d0332e1, started on Sun May 04 02:10:10 GMT+09:00 2025
2025-05-04T02:10:20.227+09:00 DEBUG 13476 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@435848de, started on Sun May 04 02:10:17 GMT+09:00 2025
2025-05-04T02:23:36.239+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@20ed3303
2025-05-04T02:23:39.224+09:00  WARN 27220 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:23:40.987+09:00  WARN 27220 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:23:41.026+09:00  INFO 27220 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:23:41.301+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:23:41.522+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:23:41.641+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:23:42.014+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:23:42.207+09:00 DEBUG 27220 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:23:43.011+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1a6ab328
2025-05-04T02:23:43.336+09:00  WARN 27220 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:23:43.543+09:00  WARN 27220 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:23:43.551+09:00  INFO 27220 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:23:43.578+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:23:43.612+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:23:43.630+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:23:43.676+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:23:43.692+09:00 DEBUG 27220 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:23:43.757+09:00  INFO 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:23:43.757+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:23:43.758+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:23:43.758+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:23:43.759+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@312af870
2025-05-04T02:23:43.759+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6999dca2
2025-05-04T02:23:43.760+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:23:43.760+09:00  INFO 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-05-04T02:23:43.774+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.774+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:43.776+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:43.776+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.778+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.779+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:43.780+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.780+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.787+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.923+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:43.957+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:43.969+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.970+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.972+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:23:43.976+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@43ac1fa0}
2025-05-04T02:23:43.977+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@43ac1fa0}
2025-05-04T02:23:43.977+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:43.979+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@43ac1fa0}
2025-05-04T02:23:43.979+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@43ac1fa0}
2025-05-04T02:23:43.980+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@3514ea20]
2025-05-04T02:23:43.985+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:43.986+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@11fd6f02, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@40aa9bae]
2025-05-04T02:23:43.999+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:23:44.007+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@11fd6f02, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:44.008+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:44.020+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.020+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.021+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.021+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.022+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.022+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.023+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.023+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.024+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.024+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.025+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.025+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.025+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.025+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.025+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.028+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.029+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.029+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.030+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.034+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:44.035+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.037+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.038+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.039+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.039+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@34ceefb5}
2025-05-04T02:23:44.039+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@34ceefb5}
2025-05-04T02:23:44.040+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:44.040+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:44.040+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@461f295c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@50e0541]
2025-05-04T02:23:44.040+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:23:44.041+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@461f295c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:44.041+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:23:44.043+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:23:44.044+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:23:44.079+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:23:44.081+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.083+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.085+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.095+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:23:44.107+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:44.479+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:44.484+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.484+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.485+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.485+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.485+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.486+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.486+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.489+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.490+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.490+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.490+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.491+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.492+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.492+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.494+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.495+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.497+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:23:44.498+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:44.502+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:23:44.503+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:44.506+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.507+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.509+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.509+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.510+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.510+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.511+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.511+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.511+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.511+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.513+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.514+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.517+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.517+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.518+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.519+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.519+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.520+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.520+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.522+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:44.523+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.525+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.526+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.526+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.526+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@31b70b2a}
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@31b70b2a}
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@513babf3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6cf50207]
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@513babf3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:44.527+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:23:44.529+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:23:44.529+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:23:44.534+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:23:44.538+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:44.580+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:44.590+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.590+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.592+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.592+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.592+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.592+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.594+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.595+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.595+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.595+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.595+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.597+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:44.600+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.602+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.603+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.604+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.604+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6ca257de}
2025-05-04T02:23:44.605+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6ca257de}
2025-05-04T02:23:44.605+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:44.605+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:44.605+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4f8a0f4e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1de618b3]
2025-05-04T02:23:44.605+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:23:44.606+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4f8a0f4e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:44.606+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:44.607+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.607+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.608+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.608+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.608+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.609+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.610+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.610+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.611+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.611+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.612+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.612+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.612+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.612+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.612+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.613+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.614+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.614+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.616+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.617+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.619+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:23:44.619+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:44.620+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:23:44.620+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:44.621+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.621+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.622+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.622+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.622+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.622+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.623+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.623+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.624+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.624+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:23:44.624+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.624+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.626+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.629+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:23:44.629+09:00  INFO 27220 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:23:44.635+09:00 DEBUG 27220 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:23:44.635+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.636+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.637+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.637+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.637+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.637+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.638+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.639+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.641+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:23:44.642+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.644+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:23:44.646+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2025-05-04T02:23:44.647+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.647+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.649+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.652+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:44.654+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.656+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.657+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.658+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.660+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a36c310}
2025-05-04T02:23:44.660+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a36c310}
2025-05-04T02:23:44.660+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:44.660+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:44.660+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@491b5bd9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3bd69a51]
2025-05-04T02:23:44.661+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a36c310}
2025-05-04T02:23:44.661+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:44.661+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a36c310}
2025-05-04T02:23:44.661+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:44.664+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a36c310}
2025-05-04T02:23:44.664+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@664c0019]
2025-05-04T02:23:44.668+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:23:44.669+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@491b5bd9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:44.669+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:44.670+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:23:44.724+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.735+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.736+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.736+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.736+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.736+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.737+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.737+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.751+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:23:44.751+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.752+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.753+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.753+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.753+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.753+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.754+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.758+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:44.761+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.763+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.765+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.768+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.769+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4b2164a9}
2025-05-04T02:23:44.769+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4b2164a9}
2025-05-04T02:23:44.769+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:44.769+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:44.769+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@11581810, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@49f8b57d]
2025-05-04T02:23:44.770+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:23:44.770+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@11581810, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:44.771+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:44.771+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.772+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.772+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.772+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.772+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.773+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.773+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.773+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.774+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.774+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.775+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.775+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.775+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.775+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.776+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.777+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.777+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.777+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.778+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.778+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.779+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:23:44.779+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:44.779+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:23:44.779+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:44.780+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.781+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.782+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.782+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.782+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.783+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.784+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.784+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.785+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.785+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.785+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.786+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.786+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.786+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.786+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.787+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.787+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.787+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.787+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.789+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:44.790+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:44.792+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.793+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.794+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.794+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@606cb314}
2025-05-04T02:23:44.794+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@606cb314}
2025-05-04T02:23:44.794+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:44.794+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:44.795+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3e8742de, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@8862881]
2025-05-04T02:23:44.795+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:23:44.796+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3e8742de, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:44.796+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:23:44.796+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:23:44.796+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:23:44.799+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:23:44.803+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:44.931+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:44.938+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.938+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.938+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.939+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.939+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.939+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.939+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.940+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.940+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.940+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.941+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.941+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.941+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.941+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.941+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.942+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.942+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.943+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.943+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.944+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.944+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:23:44.945+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:44.945+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:23:44.945+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:44.946+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.946+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.947+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.947+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.947+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.949+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.950+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.951+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.951+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.951+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.952+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.952+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.952+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:44.952+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.952+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.953+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:44.953+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:23:44.953+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.953+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:23:44.954+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2025-05-04T02:23:44.954+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.954+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.955+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.957+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.958+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:23:44.958+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.294+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:23:45.304+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@35950e2}
2025-05-04T02:23:45.304+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@35950e2}
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@77f0b9d7]
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@35950e2}
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@35950e2}
2025-05-04T02:23:45.305+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.306+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:23:45.307+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:45.307+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:23:45.307+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:23:45.308+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:23:45.372+09:00 DEBUG 27220 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:23:45.375+09:00 DEBUG 27220 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:23:45.376+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:23:45.378+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:45.458+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:45.471+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.471+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.472+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.472+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.473+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.473+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.474+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.474+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.475+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:23:45.475+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.475+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.482+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.482+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.482+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.482+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.483+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.484+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.484+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:23:45.484+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.484+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:23:45.485+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2025-05-04T02:23:45.485+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.485+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.486+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3a6ba61b}
2025-05-04T02:23:45.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3a6ba61b}
2025-05-04T02:23:45.487+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.488+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:23:45.488+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:45.489+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:45.490+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:23:45.492+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.492+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.493+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.494+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:23:45.494+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.495+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.495+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.495+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.496+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.496+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.496+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.496+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.497+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.497+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.497+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.500+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.502+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.504+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.504+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.505+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.506+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@36d28b4c}
2025-05-04T02:23:45.506+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@36d28b4c}
2025-05-04T02:23:45.506+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.506+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.506+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6d919a4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@649ddfe6]
2025-05-04T02:23:45.507+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:23:45.507+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6d919a4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:45.507+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:23:45.507+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:23:45.507+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:23:45.509+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:45.586+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:45.588+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.588+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.589+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.589+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.589+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.589+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.589+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.590+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.590+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.590+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.591+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.592+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.593+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.595+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.596+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.598+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.599+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.600+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.601+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2a25dd06}
2025-05-04T02:23:45.601+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2a25dd06}
2025-05-04T02:23:45.601+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.601+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.601+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@323b4e2a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6a79a909]
2025-05-04T02:23:45.602+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:23:45.602+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@323b4e2a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:45.602+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:23:45.602+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:23:45.602+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:23:45.603+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:23:45.606+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:45.626+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:45.629+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.629+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.630+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.630+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.630+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.630+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.630+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.631+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.631+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.631+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.633+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.633+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.633+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.633+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.633+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.634+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.635+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:23:45.635+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.635+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:23:45.636+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2025-05-04T02:23:45.636+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.636+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.637+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.638+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.639+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.641+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.642+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.642+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@238bee26}
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@238bee26}
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2fc51db0, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@22d178d3]
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@238bee26}
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@238bee26}
2025-05-04T02:23:45.643+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.644+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:23:45.644+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2fc51db0, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:45.644+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:23:45.644+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:23:45.644+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:23:45.645+09:00 DEBUG 27220 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:23:45.645+09:00 DEBUG 27220 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:23:45.645+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:23:45.681+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:23:45.684+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:23:45.685+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.686+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.686+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.686+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.686+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.687+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.687+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.687+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.688+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:23:45.688+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.688+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.689+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.690+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.690+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.690+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.690+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.691+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.691+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.692+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.692+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.694+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.696+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.699+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.700+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.701+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.702+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56418318}
2025-05-04T02:23:45.702+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@56418318}
2025-05-04T02:23:45.702+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.702+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.702+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1c382494, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@788c0028]
2025-05-04T02:23:45.703+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:23:45.703+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1c382494, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:45.703+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:45.704+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.704+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.705+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.705+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.705+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.706+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.706+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.706+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.707+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.707+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.708+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.708+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.708+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.709+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.709+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.710+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.710+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:23:45.710+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.710+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:23:45.711+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2025-05-04T02:23:45.711+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.711+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.711+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.712+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.714+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:23:45.717+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@36c6509c}
2025-05-04T02:23:45.717+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.717+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@36c6509c}
2025-05-04T02:23:45.717+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.718+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:23:45.719+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:45.719+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:45.720+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:23:45.732+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.733+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.734+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.734+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.735+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.735+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.736+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.736+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.737+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:23:45.737+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.737+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.738+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.739+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.739+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.739+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.739+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.740+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.740+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.740+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.741+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.743+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.745+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.746+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.747+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.750+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.751+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@487fc205}
2025-05-04T02:23:45.752+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@487fc205}
2025-05-04T02:23:45.752+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.752+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.752+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@44556fbd, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@39f29540]
2025-05-04T02:23:45.752+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:23:45.753+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@44556fbd, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:45.753+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:45.754+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.754+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.754+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.754+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.754+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.755+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.756+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.757+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.757+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.757+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.758+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.759+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.761+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.762+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.763+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.764+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.765+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2b1cf779}
2025-05-04T02:23:45.766+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2b1cf779}
2025-05-04T02:23:45.766+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.766+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.767+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6f0a9d4f, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@22b9ac0f]
2025-05-04T02:23:45.767+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:23:45.768+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6f0a9d4f, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:23:45.768+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:23:45.768+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:23:45.768+09:00 DEBUG 27220 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:23:45.772+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:23:45.778+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:23:45.781+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:23:45.804+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:23:45.805+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.805+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.806+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.806+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.806+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.807+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.808+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.808+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.808+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.808+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.809+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.809+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.810+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.810+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.810+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.811+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.811+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.811+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.811+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.812+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.813+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:23:45.813+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:45.813+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:23:45.813+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:45.814+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.814+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.815+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.815+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.816+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.816+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.817+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.818+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.818+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.818+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.819+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.819+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.819+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.819+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.820+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.821+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.821+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.821+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.821+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.824+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.826+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.829+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.830+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.830+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.831+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@232b4552}
2025-05-04T02:23:45.832+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@232b4552}
2025-05-04T02:23:45.832+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.833+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.833+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@739785c5, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@77f76656]
2025-05-04T02:23:45.834+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:23:45.834+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@739785c5, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:45.834+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:45.835+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.835+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.836+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.836+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.836+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.836+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.837+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.837+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.837+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.837+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.839+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.839+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.839+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.840+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.840+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.841+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.841+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:23:45.841+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.841+09:00 DEBUG 27220 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:23:45.842+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2025-05-04T02:23:45.843+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.843+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.844+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.845+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:23:45.847+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:23:45.850+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.851+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.851+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.884+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:23:45.886+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@29c3dd33}
2025-05-04T02:23:45.886+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@29c3dd33}
2025-05-04T02:23:45.886+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@3acd06b0] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:23:45.886+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:23:45.886+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6fa1dc0c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@74037f9b]
2025-05-04T02:23:45.886+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@29c3dd33}
2025-05-04T02:23:45.887+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.887+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@29c3dd33}
2025-05-04T02:23:45.887+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5f8c319] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:23:45.887+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:23:45.888+09:00 DEBUG 27220 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6fa1dc0c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:23:45.888+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:23:45.889+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:23:45.890+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.890+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.891+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.891+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.891+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.891+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.891+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.891+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.893+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:23:45.893+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.893+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.893+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.894+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.894+09:00 DEBUG 27220 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.894+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.894+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.895+09:00 DEBUG 27220 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.895+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.895+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.895+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.896+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.896+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:23:45.897+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:23:45.897+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:23:45.897+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:23:45.897+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.897+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.898+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.899+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.899+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.899+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.900+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.900+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.900+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.900+09:00 DEBUG 27220 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:23:45.901+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.901+09:00 DEBUG 27220 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@7be3baf2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 418, missCount = 2, failureCount = 0]
2025-05-04T02:23:45.901+09:00 DEBUG 27220 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:23:45.909+09:00 DEBUG 27220 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@20ed3303, started on Sun May 04 02:23:36 GMT+09:00 2025
2025-05-04T02:23:45.942+09:00 DEBUG 27220 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1a6ab328, started on Sun May 04 02:23:43 GMT+09:00 2025
2025-05-04T02:30:50.283+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1542af63
2025-05-04T02:30:53.483+09:00  WARN 23584 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:30:55.347+09:00  WARN 23584 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:30:55.404+09:00  INFO 23584 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:30:55.751+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:30:56.009+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:30:56.177+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:30:56.604+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:30:56.764+09:00 DEBUG 23584 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:30:57.558+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@452d4bb2
2025-05-04T02:30:57.878+09:00  WARN 23584 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:30:58.081+09:00  WARN 23584 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:30:58.089+09:00  INFO 23584 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:30:58.113+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:30:58.152+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:30:58.172+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:30:58.219+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:30:58.234+09:00 DEBUG 23584 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:30:58.297+09:00  INFO 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:30:58.297+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:30:58.297+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:30:58.297+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:30:58.298+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@363b7709
2025-05-04T02:30:58.299+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1160c54b
2025-05-04T02:30:58.299+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:30:58.299+09:00  INFO 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-05-04T02:30:58.312+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.312+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:58.313+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:58.313+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.314+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.315+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:58.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.323+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.446+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:58.478+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:58.489+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.490+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.492+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.497+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:30:58.498+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:30:58.499+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:58.499+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:30:58.499+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:30:58.500+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@7574d30b]
2025-05-04T02:30:58.504+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:58.504+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@79b3f1c6, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3cc148d]
2025-05-04T02:30:58.518+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:30:58.526+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@79b3f1c6, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:30:58.527+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:30:58.540+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.540+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.542+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.542+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.542+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.543+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.543+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.543+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.544+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:58.544+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:58.545+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.545+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:58.546+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:58.546+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.546+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.547+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:58.548+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.548+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.548+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.551+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:58.553+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:58.555+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.556+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.557+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.558+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@25a41143}
2025-05-04T02:30:58.558+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@25a41143}
2025-05-04T02:30:58.558+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:58.558+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:58.558+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6654e105, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@59be715a]
2025-05-04T02:30:58.559+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:30:58.559+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6654e105, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:58.560+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:30:58.563+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:30:58.564+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:30:58.597+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:30:58.600+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:58.602+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:58.604+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:58.621+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:30:58.634+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:30:58.991+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:30:58.995+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.996+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.996+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.997+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.997+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.997+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.998+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.998+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:30:58.999+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:58.999+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.001+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.001+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.001+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.001+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.002+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.002+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.003+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.003+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.004+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.006+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.009+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:30:59.010+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:30:59.012+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:30:59.013+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:30:59.015+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.015+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.016+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.017+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.017+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.017+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.018+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.018+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.019+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.019+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.020+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.022+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.024+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.025+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.025+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.026+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.027+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.027+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.027+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.029+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.031+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.033+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.034+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.035+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.036+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3697cfee}
2025-05-04T02:30:59.036+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3697cfee}
2025-05-04T02:30:59.036+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.036+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.036+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3a7f9efc, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7e5e568e]
2025-05-04T02:30:59.036+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:30:59.037+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3a7f9efc, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:59.037+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:30:59.037+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:30:59.037+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:30:59.043+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:30:59.047+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:30:59.100+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:30:59.111+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.111+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.112+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.113+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.113+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.114+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.115+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.116+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.116+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.116+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.117+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.117+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.118+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.118+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.118+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.119+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.119+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.120+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.120+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.122+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.124+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.125+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.126+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.127+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.127+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4f8a0f4e}
2025-05-04T02:30:59.127+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4f8a0f4e}
2025-05-04T02:30:59.128+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.128+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.128+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1de618b3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3473e1bb]
2025-05-04T02:30:59.128+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:30:59.129+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1de618b3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:30:59.129+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:30:59.130+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.130+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.131+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.131+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.131+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.131+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.132+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.133+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.133+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.133+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.134+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.134+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.134+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.135+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.135+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.135+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.135+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.136+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.136+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.137+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.138+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:30:59.138+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:30:59.139+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:30:59.139+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:30:59.140+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.141+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.141+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.142+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.142+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.142+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.142+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.142+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.143+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.143+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:30:59.143+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.144+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.144+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.147+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:30:59.147+09:00  INFO 23584 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:30:59.151+09:00 DEBUG 23584 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:30:59.152+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.153+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.165+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.165+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.165+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.165+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.166+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.167+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.168+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:30:59.169+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.171+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:30:59.173+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:30:59.174+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.174+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.175+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.176+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.178+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.179+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.180+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.181+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.182+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3bd69a51, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@36f329e7]
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.183+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:30:59.184+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.186+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:30:59.186+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@495fa126]
2025-05-04T02:30:59.188+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:30:59.190+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3bd69a51, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:30:59.190+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:30:59.191+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:30:59.238+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.239+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.239+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.239+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.240+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.240+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.240+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.241+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.243+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:30:59.244+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.244+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.246+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.247+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.247+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.248+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.250+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.252+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.254+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.255+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.256+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.257+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@11581810}
2025-05-04T02:30:59.257+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@11581810}
2025-05-04T02:30:59.257+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.257+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.257+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@49f8b57d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4b6b9255]
2025-05-04T02:30:59.258+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:30:59.258+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@49f8b57d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:30:59.258+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:30:59.259+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.260+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.261+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.261+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.261+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.261+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.262+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.262+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.262+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.262+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.263+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.263+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.263+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.263+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.264+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.264+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.264+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.264+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.265+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.266+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.266+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:30:59.266+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:30:59.267+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:30:59.267+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:30:59.268+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.269+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.269+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.269+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.269+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.270+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.270+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.271+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.271+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.271+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.272+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.272+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.272+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.272+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.273+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.274+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.274+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.274+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.275+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.276+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.279+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.280+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.281+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.282+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.283+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3e8742de}
2025-05-04T02:30:59.283+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3e8742de}
2025-05-04T02:30:59.283+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.283+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.283+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@8862881, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@64176780]
2025-05-04T02:30:59.284+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:30:59.285+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@8862881, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:59.285+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:30:59.285+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:30:59.285+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:30:59.287+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:30:59.292+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:30:59.412+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:30:59.417+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.418+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.418+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.418+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.418+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.419+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.419+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.419+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.419+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.419+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.420+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.420+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.420+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.420+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.420+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.421+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.421+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.421+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.421+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.423+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.423+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:30:59.424+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:30:59.424+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:30:59.424+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:30:59.425+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.425+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.426+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.426+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.426+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.426+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.427+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.427+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.427+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.427+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.428+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.428+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.428+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.428+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.428+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.429+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.429+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:30:59.429+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.429+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:30:59.430+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:30:59.430+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.430+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.431+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.432+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.433+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.433+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.438+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:30:59.438+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:30:59.438+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.439+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.439+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@65bd41d8]
2025-05-04T02:30:59.439+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:30:59.439+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.439+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:30:59.439+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.440+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:30:59.440+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:59.440+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:30:59.440+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:30:59.441+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:30:59.488+09:00 DEBUG 23584 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:30:59.490+09:00 DEBUG 23584 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:30:59.491+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:30:59.493+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:30:59.569+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:30:59.576+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.576+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.576+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.577+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.578+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.579+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.580+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.580+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.581+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:30:59.581+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.581+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.587+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.587+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.587+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.587+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.588+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.588+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.588+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:30:59.589+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.589+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:30:59.590+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:30:59.590+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.590+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.591+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.591+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.592+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@22e94cf2}
2025-05-04T02:30:59.592+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.592+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@22e94cf2}
2025-05-04T02:30:59.592+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.592+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:30:59.593+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:30:59.593+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:30:59.594+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:30:59.595+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.596+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.596+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.596+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.596+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.597+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.597+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.597+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.598+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:30:59.598+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.598+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.599+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.599+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.599+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.599+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.599+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.600+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.600+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.601+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.601+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.603+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.607+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.609+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.610+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.610+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.611+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1f5faa89}
2025-05-04T02:30:59.611+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1f5faa89}
2025-05-04T02:30:59.611+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.611+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.611+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@67d44ae9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@615c9e9b]
2025-05-04T02:30:59.612+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:30:59.612+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@67d44ae9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:59.612+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:30:59.612+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:30:59.612+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:30:59.614+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:30:59.685+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:30:59.686+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.686+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.687+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.687+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.687+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.687+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.688+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.688+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.688+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.688+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.690+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.690+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.690+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.690+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.691+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.692+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.693+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.693+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.693+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.695+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.696+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.698+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.699+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.700+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.700+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@371fcc18}
2025-05-04T02:30:59.700+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@371fcc18}
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2461a62c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5172cce4]
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2461a62c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:30:59.701+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:30:59.702+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:30:59.703+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:30:59.708+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:30:59.727+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:30:59.729+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.729+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.730+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.730+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.730+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.730+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.730+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.730+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.731+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.731+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.732+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.732+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.732+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.732+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.732+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.733+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.733+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:30:59.733+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.733+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:30:59.734+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:30:59.734+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.734+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.735+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.736+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.737+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.739+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.740+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.740+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3cfd9459}
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3cfd9459}
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@18bc2d32, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4cb25b53]
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3cfd9459}
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3cfd9459}
2025-05-04T02:30:59.741+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:30:59.742+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:30:59.742+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@18bc2d32, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:30:59.742+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:30:59.742+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:30:59.743+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:30:59.743+09:00 DEBUG 23584 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:30:59.744+09:00 DEBUG 23584 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:30:59.744+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:30:59.767+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:30:59.768+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:30:59.769+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.769+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.770+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.770+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.770+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.770+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.771+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.771+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.772+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:30:59.773+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.773+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.775+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.775+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.775+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.775+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.776+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.777+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.777+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.777+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.778+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.780+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:30:59.781+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:30:59.783+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.783+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.784+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.784+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@63be03c8}
2025-05-04T02:30:59.784+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@63be03c8}
2025-05-04T02:30:59.784+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:30:59.784+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:30:59.784+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@38988d78, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@75cb2090]
2025-05-04T02:30:59.785+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:30:59.785+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@38988d78, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:30:59.785+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:30:59.786+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.786+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.787+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.787+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.787+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.788+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.788+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.788+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.789+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.789+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.790+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.790+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.790+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:30:59.791+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.791+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.792+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:30:59.792+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:30:59.792+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.792+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:30:59.793+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:30:59.793+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.793+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.794+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:30:59.794+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.197+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:31:00.200+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@1c382494}
2025-05-04T02:31:00.201+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:31:00.201+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@1c382494}
2025-05-04T02:31:00.201+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:31:00.202+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:31:00.202+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:31:00.203+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:31:00.205+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:31:00.213+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.213+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.214+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.214+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.214+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.214+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.215+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.215+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.216+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:31:00.216+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.216+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.217+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.217+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.217+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.217+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.217+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.218+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.218+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.218+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.219+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.222+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:31:00.224+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:31:00.227+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.227+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.229+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.229+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5ada5fd3}
2025-05-04T02:31:00.229+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5ada5fd3}
2025-05-04T02:31:00.229+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:31:00.229+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:31:00.229+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4d36c8cb, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@15733aa5]
2025-05-04T02:31:00.230+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:31:00.230+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4d36c8cb, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:31:00.230+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:31:00.231+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.231+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.232+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.232+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.232+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.232+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.233+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.233+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.233+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.233+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.234+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.234+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.234+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.234+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.234+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.235+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.235+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.235+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.235+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.238+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:31:00.240+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:31:00.242+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.242+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.243+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.243+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@103388c6}
2025-05-04T02:31:00.243+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@103388c6}
2025-05-04T02:31:00.243+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:31:00.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:31:00.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@14221dc6, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2fbd6df8]
2025-05-04T02:31:00.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:31:00.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@14221dc6, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:31:00.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:31:00.245+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:31:00.246+09:00 DEBUG 23584 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:31:00.249+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:31:00.255+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:31:00.259+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:31:00.285+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:31:00.286+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.286+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.287+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.287+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.287+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.287+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.288+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.288+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.288+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.289+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.291+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.291+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.291+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.292+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.292+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.293+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.294+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.294+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.295+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.296+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.296+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:31:00.297+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:31:00.297+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:31:00.297+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:31:00.298+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.298+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.299+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.299+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.299+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.299+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.300+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.300+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.301+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.301+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.303+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.303+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.304+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.304+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.305+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.307+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.308+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.308+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.310+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.312+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:31:00.314+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:31:00.315+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.316+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@40e0213c}
2025-05-04T02:31:00.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@40e0213c}
2025-05-04T02:31:00.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:31:00.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:31:00.317+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@fd6784a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@272ee84a]
2025-05-04T02:31:00.318+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:31:00.318+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@fd6784a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:31:00.318+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:31:00.319+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.319+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.320+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.320+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.320+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.320+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.320+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.320+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.321+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.321+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.322+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.322+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.322+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.323+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.323+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.324+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.324+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:31:00.324+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.325+09:00 DEBUG 23584 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:31:00.325+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:31:00.326+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.326+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.326+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.328+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:31:00.329+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:31:00.330+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.331+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.331+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.366+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:31:00.368+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@2a8ff32}
2025-05-04T02:31:00.368+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@2a8ff32}
2025-05-04T02:31:00.368+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:31:00.368+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:31:00.369+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5a8f777, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4a6198a7]
2025-05-04T02:31:00.369+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@2a8ff32}
2025-05-04T02:31:00.369+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:31:00.369+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@2a8ff32}
2025-05-04T02:31:00.369+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:31:00.369+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:31:00.370+09:00 DEBUG 23584 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5a8f777, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:31:00.370+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:31:00.371+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:31:00.372+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.373+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.374+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.374+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.374+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.374+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.375+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.375+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.376+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:31:00.377+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.377+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.377+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.377+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.378+09:00 DEBUG 23584 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.378+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.378+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.378+09:00 DEBUG 23584 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.378+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.379+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.379+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.379+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.380+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:31:00.380+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:31:00.381+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:31:00.381+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:31:00.381+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.381+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.382+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.383+09:00 DEBUG 23584 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:31:00.383+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.383+09:00 DEBUG 23584 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 418, missCount = 2, failureCount = 0]
2025-05-04T02:31:00.383+09:00 DEBUG 23584 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:31:00.391+09:00 DEBUG 23584 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1542af63, started on Sun May 04 02:30:50 GMT+09:00 2025
2025-05-04T02:31:00.415+09:00 DEBUG 23584 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@452d4bb2, started on Sun May 04 02:30:57 GMT+09:00 2025
2025-05-04T02:38:44.491+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1542af63
2025-05-04T02:38:47.407+09:00  WARN 18904 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:38:49.131+09:00  WARN 18904 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:38:49.194+09:00  INFO 18904 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:38:49.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:38:49.863+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:38:50.023+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:38:50.426+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:38:50.587+09:00 DEBUG 18904 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:38:51.412+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@452d4bb2
2025-05-04T02:38:51.720+09:00  WARN 18904 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:38:51.910+09:00  WARN 18904 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:38:51.918+09:00  INFO 18904 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:38:51.942+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:38:51.977+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:38:52.000+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:38:52.047+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:38:52.071+09:00 DEBUG 18904 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:38:52.156+09:00  INFO 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:38:52.156+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:38:52.156+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:38:52.156+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:38:52.157+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@363b7709
2025-05-04T02:38:52.158+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1160c54b
2025-05-04T02:38:52.159+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:38:52.159+09:00  INFO 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-05-04T02:38:52.175+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.175+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.176+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.176+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.179+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.181+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.185+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.185+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.191+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.323+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:52.366+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:52.396+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.399+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.401+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.411+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:38:52.413+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:38:52.414+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:52.415+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:38:52.416+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@16e6a643}
2025-05-04T02:38:52.416+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@7574d30b]
2025-05-04T02:38:52.423+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:52.425+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@79b3f1c6, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3cc148d]
2025-05-04T02:38:52.444+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:38:52.453+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@79b3f1c6, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:52.454+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:52.473+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.474+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.476+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.476+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.477+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.478+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.479+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.479+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.480+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.480+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.481+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.482+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.482+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.482+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.483+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.484+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.485+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.485+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.486+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.488+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:52.490+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:52.493+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.494+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.495+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.496+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@25a41143}
2025-05-04T02:38:52.496+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@25a41143}
2025-05-04T02:38:52.496+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:52.496+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:52.496+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6654e105, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@59be715a]
2025-05-04T02:38:52.497+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:38:52.497+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6654e105, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:52.498+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:38:52.501+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:38:52.503+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:38:52.544+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:38:52.546+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:52.548+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:52.550+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:52.570+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:38:52.591+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:52.948+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:52.951+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.951+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.952+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.952+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.952+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.952+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.954+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.954+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.954+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.955+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.956+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.956+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.956+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.957+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.957+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.958+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.958+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.959+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.960+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.962+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.965+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:38:52.967+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:52.969+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:38:52.970+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:52.972+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.973+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.975+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.976+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.976+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.977+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.979+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.979+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.980+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.980+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.982+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.983+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.983+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:52.983+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.983+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.985+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:52.985+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.985+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.986+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.988+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:52.990+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:52.991+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.993+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.994+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:38:52.995+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3697cfee}
2025-05-04T02:38:52.996+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3697cfee}
2025-05-04T02:38:52.996+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:52.997+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:52.997+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3a7f9efc, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7e5e568e]
2025-05-04T02:38:52.997+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:38:52.998+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3a7f9efc, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:52.998+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:38:52.998+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:38:52.998+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:38:53.003+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:38:53.006+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:53.053+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:53.074+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.075+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.075+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.075+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.075+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.076+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.077+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.078+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.078+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.079+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.080+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.081+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.081+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.082+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.082+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.083+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.084+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.085+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.086+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.088+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.089+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.092+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.092+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.094+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.096+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4f8a0f4e}
2025-05-04T02:38:53.096+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4f8a0f4e}
2025-05-04T02:38:53.096+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.097+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.097+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1de618b3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3473e1bb]
2025-05-04T02:38:53.098+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:38:53.098+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1de618b3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:53.098+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:53.099+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.099+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.100+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.100+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.100+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.100+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.101+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.101+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.102+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.102+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.103+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.103+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.103+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.104+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.104+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.104+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.105+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.105+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.106+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.106+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.107+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:38:53.107+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:53.108+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:38:53.108+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:53.108+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.109+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.109+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.109+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.109+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.110+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.110+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.110+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.110+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.110+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:38:53.111+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.112+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.112+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.115+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:38:53.115+09:00  INFO 18904 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:38:53.120+09:00 DEBUG 18904 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:38:53.121+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.121+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.122+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.122+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.122+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.122+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.123+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.124+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.125+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:38:53.126+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.129+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:38:53.131+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:38:53.132+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.132+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.132+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.134+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.135+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.137+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.138+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.139+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3bd69a51, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@36f329e7]
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:38:53.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.142+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:38:53.142+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.144+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@491b5bd9}
2025-05-04T02:38:53.144+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@495fa126]
2025-05-04T02:38:53.146+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:38:53.147+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3bd69a51, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:53.148+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:53.149+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:38:53.202+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.202+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.203+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.203+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.203+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.203+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.204+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.204+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.206+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:38:53.207+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.207+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.208+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.208+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.208+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.208+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.208+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.209+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.210+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.210+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.211+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.214+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.216+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.218+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.219+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.220+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.221+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@11581810}
2025-05-04T02:38:53.222+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@11581810}
2025-05-04T02:38:53.222+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.222+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.223+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@49f8b57d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4b6b9255]
2025-05-04T02:38:53.223+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:38:53.224+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@49f8b57d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:53.224+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:53.225+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.226+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.226+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.227+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.228+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.229+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.230+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.230+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.231+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.231+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.232+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.233+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.233+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.233+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.234+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.236+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.236+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.237+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.239+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:38:53.239+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:53.239+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:38:53.239+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:53.241+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.241+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.242+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.242+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.242+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.243+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.244+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.244+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.244+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.244+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.247+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.247+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.248+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.248+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.251+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.252+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.254+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.255+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.256+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.256+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3e8742de}
2025-05-04T02:38:53.257+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3e8742de}
2025-05-04T02:38:53.257+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.257+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.257+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@8862881, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@64176780]
2025-05-04T02:38:53.258+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:38:53.258+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@8862881, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:53.258+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:38:53.258+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:38:53.259+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:38:53.261+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:38:53.265+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:53.394+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:53.400+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.401+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.401+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.401+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.402+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.402+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.403+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.403+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.403+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.403+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.404+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.404+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.404+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.404+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.405+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.405+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.406+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.406+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.407+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.408+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.409+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:38:53.409+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:53.409+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:38:53.409+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:53.411+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.411+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.412+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.412+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.413+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.414+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.414+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.414+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.415+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.415+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.415+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.415+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.416+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.416+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.416+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.416+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.417+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:38:53.417+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.417+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:38:53.418+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:38:53.418+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.418+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.419+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.421+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.421+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.422+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.428+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:38:53.428+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:38:53.428+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.428+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.428+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@65bd41d8]
2025-05-04T02:38:53.429+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:38:53.429+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.429+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@73f937d9}
2025-05-04T02:38:53.429+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.430+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:38:53.430+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:53.430+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:38:53.430+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:38:53.431+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:38:53.483+09:00 DEBUG 18904 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:38:53.485+09:00 DEBUG 18904 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:38:53.486+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:38:53.488+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:53.557+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:53.568+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.568+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.569+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.569+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.571+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.571+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.571+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.572+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.573+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:38:53.573+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.573+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.580+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.580+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.580+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.580+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.581+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.581+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.582+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:38:53.582+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.582+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:38:53.583+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:38:53.583+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.584+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.584+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.585+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.585+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@44d83a12}
2025-05-04T02:38:53.585+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.586+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@44d83a12}
2025-05-04T02:38:53.586+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.586+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:38:53.587+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:53.587+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:53.588+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:38:53.590+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.590+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.590+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.591+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.591+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.591+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.591+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.591+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.592+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:38:53.592+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.592+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.594+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.594+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.594+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.595+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.595+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.596+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.596+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.596+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.597+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.600+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.602+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.603+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.604+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.605+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3a9c5f14}
2025-05-04T02:38:53.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3a9c5f14}
2025-05-04T02:38:53.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@16066bf4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7085261e]
2025-05-04T02:38:53.606+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:38:53.607+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@16066bf4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:53.607+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:38:53.607+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:38:53.607+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:38:53.608+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:53.668+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:53.669+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.669+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.670+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.670+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.670+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.670+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.671+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.671+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.671+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.671+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.673+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.673+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.673+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.673+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.674+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.675+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.675+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.676+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.677+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.681+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.682+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.685+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.685+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.686+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.686+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@27868127}
2025-05-04T02:38:53.687+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@27868127}
2025-05-04T02:38:53.687+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.687+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.687+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4a2f4bfa, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@17f83573]
2025-05-04T02:38:53.687+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:38:53.688+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4a2f4bfa, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:53.688+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:38:53.688+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:38:53.688+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:38:53.690+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:38:53.693+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:53.714+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:53.715+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.715+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.716+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.716+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.716+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.717+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.717+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.717+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.718+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.718+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.719+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.719+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.719+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.719+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.719+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.720+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.720+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:38:53.720+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.720+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:38:53.721+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:38:53.722+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.722+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.723+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.725+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.727+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.729+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.730+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.731+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3f6fa2dd}
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3f6fa2dd}
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@7a986079, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4528c187]
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3f6fa2dd}
2025-05-04T02:38:53.732+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.733+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3f6fa2dd}
2025-05-04T02:38:53.733+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:53.734+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:38:53.734+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@7a986079, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:53.734+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:38:53.735+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:38:53.735+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:38:53.736+09:00 DEBUG 18904 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:38:53.737+09:00 DEBUG 18904 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:38:53.738+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:38:53.753+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:38:53.755+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:38:53.757+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.757+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.758+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.758+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.758+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.758+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.759+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.759+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.760+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:38:53.761+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.761+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.762+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.762+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.762+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.763+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.763+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.764+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.764+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.764+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.765+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.767+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:53.769+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:53.771+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.772+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.773+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.773+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@21975a54}
2025-05-04T02:38:53.773+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@21975a54}
2025-05-04T02:38:53.773+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:53.773+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:53.773+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@40226862, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7dae9ff4]
2025-05-04T02:38:53.774+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:38:53.774+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@40226862, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:53.774+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:53.775+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.775+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.776+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.776+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.778+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.779+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.780+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.780+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.780+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.780+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.781+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.782+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.782+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:53.782+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.782+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.783+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:53.783+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:38:53.783+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.783+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:38:53.784+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:38:53.784+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.784+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.784+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:38:53.785+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.137+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:38:54.139+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@36c6509c}
2025-05-04T02:38:54.139+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:54.139+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@36c6509c}
2025-05-04T02:38:54.139+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:54.140+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:38:54.140+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:54.141+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:54.144+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:38:54.149+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.150+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.150+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.150+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.150+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.151+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.152+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.152+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.153+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:38:54.154+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.154+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.155+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.155+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.155+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.155+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.155+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.156+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.157+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.157+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.157+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.160+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:54.162+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:54.165+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.166+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.167+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.168+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1decf3e3}
2025-05-04T02:38:54.168+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1decf3e3}
2025-05-04T02:38:54.168+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:54.168+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:54.168+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@722b4f64, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5fde8cf4]
2025-05-04T02:38:54.169+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:38:54.169+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@722b4f64, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:54.169+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:54.170+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.170+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.170+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.170+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.170+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.171+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.171+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.171+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.171+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.171+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.172+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.173+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.173+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.173+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.173+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.174+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.174+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.174+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.175+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.177+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:54.180+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:54.181+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.182+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.183+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.183+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6112390a}
2025-05-04T02:38:54.184+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6112390a}
2025-05-04T02:38:54.184+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:54.184+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:54.184+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5ac92082, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@35ff3600]
2025-05-04T02:38:54.184+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:38:54.185+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5ac92082, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:38:54.185+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:38:54.185+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:38:54.185+09:00 DEBUG 18904 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:38:54.188+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:38:54.198+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:38:54.201+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:38:54.224+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:38:54.225+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.225+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.226+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.226+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.226+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.226+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.227+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.227+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.228+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.228+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.229+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.229+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.229+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.229+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.229+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.230+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.230+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.230+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.231+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.231+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.232+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:38:54.232+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:54.233+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:38:54.233+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:54.233+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.234+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.234+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.234+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.234+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.235+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.236+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.237+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.237+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.237+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.237+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.238+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.238+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.238+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.238+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.239+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:54.241+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:54.242+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.243+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.245+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.245+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@a5e9de1}
2025-05-04T02:38:54.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@a5e9de1}
2025-05-04T02:38:54.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:54.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:54.246+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@452888c2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@9a183e7]
2025-05-04T02:38:54.247+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:38:54.247+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@452888c2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:54.247+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:54.248+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.248+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.248+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.249+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.249+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.249+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.249+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.249+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.250+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.250+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.250+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.250+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.250+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.251+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.251+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.251+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.252+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:38:54.252+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.252+09:00 DEBUG 18904 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:38:54.253+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f8e6101]; rollback [true]
2025-05-04T02:38:54.253+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.253+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.253+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.255+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:38:54.256+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:38:54.258+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.259+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.260+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.282+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:38:54.284+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@3c10ba31}
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@3c10ba31}
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@5f9d29c4] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5db05003, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@32200389]
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@3c10ba31}
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@3c10ba31}
2025-05-04T02:38:54.285+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@3acd06b0] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:38:54.286+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:38:54.286+09:00 DEBUG 18904 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5db05003, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:38:54.286+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:38:54.287+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:38:54.288+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.289+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.289+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.289+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.289+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.290+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.290+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.290+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.291+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:38:54.292+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.292+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.292+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.292+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.293+09:00 DEBUG 18904 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.293+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.293+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.294+09:00 DEBUG 18904 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.295+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.295+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.295+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.296+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.297+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:38:54.297+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:38:54.297+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:38:54.297+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:38:54.298+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.298+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.299+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.299+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.299+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.299+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.299+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.299+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.300+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.300+09:00 DEBUG 18904 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:38:54.300+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.300+09:00 DEBUG 18904 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@68950f25 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 418, missCount = 2, failureCount = 0]
2025-05-04T02:38:54.301+09:00 DEBUG 18904 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:38:54.307+09:00 DEBUG 18904 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1542af63, started on Sun May 04 02:38:44 GMT+09:00 2025
2025-05-04T02:38:54.331+09:00 DEBUG 18904 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@452d4bb2, started on Sun May 04 02:38:51 GMT+09:00 2025
2025-05-04T02:53:00.350+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1542af63
2025-05-04T02:53:03.382+09:00  WARN 18992 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:53:05.132+09:00  WARN 18992 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:53:05.187+09:00  INFO 18992 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:53:05.535+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:53:05.762+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:53:05.911+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:53:06.339+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:53:06.482+09:00 DEBUG 18992 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:53:07.372+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4cd886b7
2025-05-04T02:53:07.682+09:00  WARN 18992 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:53:07.884+09:00  WARN 18992 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:53:07.891+09:00  INFO 18992 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:53:07.918+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:53:07.955+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:53:07.974+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:53:08.023+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:53:08.049+09:00 DEBUG 18992 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:53:08.124+09:00  INFO 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:53:08.125+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:53:08.125+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:53:08.125+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:53:08.126+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@106a6420
2025-05-04T02:53:08.127+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@15c27b65
2025-05-04T02:53:08.127+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:53:08.128+09:00  INFO 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-05-04T02:53:08.143+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.144+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.145+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.145+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.147+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.148+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.149+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.150+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.155+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.285+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:08.318+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.330+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.332+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.333+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.338+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@662754bb}
2025-05-04T02:53:08.340+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@662754bb}
2025-05-04T02:53:08.340+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:08.341+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@662754bb}
2025-05-04T02:53:08.342+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@662754bb}
2025-05-04T02:53:08.343+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@28245839]
2025-05-04T02:53:08.348+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:08.349+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@38f12596, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7ce09850]
2025-05-04T02:53:08.363+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:53:08.370+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@38f12596, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:08.371+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:08.382+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.383+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.384+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.384+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.384+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.384+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.385+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.385+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.386+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.386+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.388+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.389+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.389+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.390+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.390+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.391+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.392+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.393+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.395+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.398+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:08.400+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.401+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.402+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.403+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.404+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6a8a54f5}
2025-05-04T02:53:08.404+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6a8a54f5}
2025-05-04T02:53:08.404+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:08.404+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:08.405+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4623c0d3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7c7335dc]
2025-05-04T02:53:08.405+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:53:08.406+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4623c0d3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:08.406+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:53:08.408+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:53:08.410+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:53:08.443+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:53:08.445+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.448+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.449+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.463+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:53:08.474+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:08.812+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:08.816+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.816+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.817+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.817+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.817+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.818+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.818+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.819+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.819+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.819+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.820+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.820+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.821+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.821+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.822+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.822+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.823+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.823+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.824+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.826+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.828+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:53:08.830+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:08.834+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:53:08.835+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:08.837+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.837+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.839+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.839+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.839+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.839+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.840+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.840+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.840+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.841+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.843+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.845+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.846+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.847+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.847+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.848+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.848+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.849+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.849+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.851+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:08.853+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.855+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.856+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.857+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.857+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3096a890}
2025-05-04T02:53:08.858+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3096a890}
2025-05-04T02:53:08.858+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:08.858+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:08.858+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@569b57c4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@43ca45af]
2025-05-04T02:53:08.859+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:53:08.859+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@569b57c4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:08.860+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:53:08.860+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:53:08.860+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:53:08.881+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:53:08.885+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:08.937+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:08.949+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.950+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.951+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.951+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.951+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.952+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.953+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.954+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.954+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.954+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.955+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.956+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.956+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.957+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.957+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.958+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.958+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.959+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.961+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.964+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:08.965+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:08.967+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.968+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.968+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.969+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@15c900be}
2025-05-04T02:53:08.969+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@15c900be}
2025-05-04T02:53:08.969+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:08.969+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:08.970+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@72bec302, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5e9650d3]
2025-05-04T02:53:08.970+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:53:08.970+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@72bec302, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:08.971+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:08.971+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.972+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.972+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.972+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.972+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.973+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.973+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.974+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.974+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.974+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.975+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.975+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.975+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.976+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.976+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.977+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.977+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.977+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.978+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.978+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.979+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:53:08.979+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:08.980+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:53:08.980+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:08.980+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.981+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.981+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.981+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.981+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.982+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.982+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.982+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.982+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.982+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:53:08.983+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.983+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.983+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.986+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:53:08.986+09:00  INFO 18992 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:53:08.990+09:00 DEBUG 18992 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:53:08.990+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.991+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.992+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.992+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:08.992+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:08.993+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.994+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.995+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:08.997+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:53:08.997+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:53:08.999+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:53:09.000+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@75ee63f2]; rollback [true]
2025-05-04T02:53:09.001+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.001+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.002+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.003+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.005+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.007+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.008+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.010+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.012+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ef21eba}
2025-05-04T02:53:09.012+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ef21eba}
2025-05-04T02:53:09.012+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@673ade3d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5ca4763f]
2025-05-04T02:53:09.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ef21eba}
2025-05-04T02:53:09.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ef21eba}
2025-05-04T02:53:09.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.014+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@ef21eba}
2025-05-04T02:53:09.015+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@15200332]
2025-05-04T02:53:09.017+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:53:09.019+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@673ade3d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:09.019+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:09.020+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:53:09.071+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.071+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.071+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.072+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.072+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.072+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.072+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.073+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.074+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:53:09.075+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.075+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.076+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.076+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.076+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.077+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.077+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.079+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.079+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.079+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.080+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.082+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.083+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.085+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.087+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.088+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.090+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@160c47b4}
2025-05-04T02:53:09.090+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@160c47b4}
2025-05-04T02:53:09.090+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@ce4a8a2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@53b1a09f]
2025-05-04T02:53:09.093+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:53:09.093+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@ce4a8a2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:09.093+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:09.096+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.096+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.098+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.099+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.099+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.101+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.102+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.102+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.103+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.103+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.105+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.105+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.106+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.106+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.107+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.107+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.108+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.110+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:53:09.110+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:09.110+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:53:09.110+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:09.112+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.112+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.113+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.113+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.113+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.114+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.114+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.114+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.114+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.114+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.115+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.115+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.116+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.116+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.116+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.117+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.117+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.117+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.118+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.120+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.122+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.124+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.124+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.125+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.126+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@78cfa18c}
2025-05-04T02:53:09.127+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@78cfa18c}
2025-05-04T02:53:09.127+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.127+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.127+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@202e0ff4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@19e78fa]
2025-05-04T02:53:09.128+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:53:09.129+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@202e0ff4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:09.129+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:53:09.129+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:53:09.129+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:53:09.131+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:53:09.135+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:09.276+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:09.282+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.282+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.283+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.283+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.283+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.284+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.284+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.284+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.284+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.284+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.286+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.286+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.286+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.286+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.287+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.287+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.287+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.288+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.289+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.289+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.290+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:53:09.290+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:09.291+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:53:09.291+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:09.292+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.292+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.293+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.293+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.293+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.294+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.295+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.295+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.296+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.296+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.296+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.296+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.296+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.296+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.297+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.297+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.297+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:53:09.297+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.298+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:53:09.298+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@75ee63f2]; rollback [true]
2025-05-04T02:53:09.299+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.299+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.300+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.301+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.302+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.302+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.308+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6ef7e510}
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6ef7e510}
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3b89bf47]
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6ef7e510}
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6ef7e510}
2025-05-04T02:53:09.309+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.310+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:53:09.311+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:09.311+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:53:09.311+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:53:09.311+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:53:09.363+09:00 DEBUG 18992 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:53:09.366+09:00 DEBUG 18992 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:53:09.366+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:53:09.369+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:09.440+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:09.449+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.450+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.450+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.450+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.452+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.452+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.453+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.453+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.454+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする]
2025-05-04T02:53:09.454+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.454+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.463+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.463+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.463+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.463+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.464+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.464+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.464+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:53:09.464+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.465+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:53:09.466+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@75ee63f2]; rollback [true]
2025-05-04T02:53:09.466+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.466+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.467+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.467+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.468+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@67d44ae9}
2025-05-04T02:53:09.468+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.468+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@67d44ae9}
2025-05-04T02:53:09.468+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.469+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:53:09.469+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:09.469+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:09.470+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:53:09.472+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.472+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.473+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.473+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.473+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.473+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.474+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.474+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.475+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:53:09.475+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.475+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.476+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.476+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.476+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.476+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.476+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.477+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.477+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.478+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.478+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.480+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.482+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.484+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.485+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.486+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.486+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@371fcc18}
2025-05-04T02:53:09.486+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@371fcc18}
2025-05-04T02:53:09.487+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.487+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.487+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2461a62c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5172cce4]
2025-05-04T02:53:09.487+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:53:09.487+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2461a62c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:09.488+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:53:09.488+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:53:09.488+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:53:09.489+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:09.546+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:09.548+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.548+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.549+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.549+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.549+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.550+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.550+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.550+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.550+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.551+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.552+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.552+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.552+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.552+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.553+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.554+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.554+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.554+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.555+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.557+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.560+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.563+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.564+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.565+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.566+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@77e467d9}
2025-05-04T02:53:09.566+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@77e467d9}
2025-05-04T02:53:09.566+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.566+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.566+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1c63d92e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3cfd9459]
2025-05-04T02:53:09.567+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:53:09.567+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1c63d92e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:09.567+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:53:09.567+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:53:09.567+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:53:09.569+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:53:09.572+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:09.592+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:09.593+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.594+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.595+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.595+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.595+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.595+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.596+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.596+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.596+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.596+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.597+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.597+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.597+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.597+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.597+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.598+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.598+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:53:09.598+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.598+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:53:09.599+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@75ee63f2]; rollback [true]
2025-05-04T02:53:09.599+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.599+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.600+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.601+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.602+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.604+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.604+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@237a41ff}
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@237a41ff}
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3ac09fe2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@46d393cd]
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@237a41ff}
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@237a41ff}
2025-05-04T02:53:09.605+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.607+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:53:09.607+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3ac09fe2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:09.607+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:53:09.607+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:53:09.608+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:53:09.608+09:00 DEBUG 18992 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:53:09.609+09:00 DEBUG 18992 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:53:09.610+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:53:09.630+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:53:09.632+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:53:09.634+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.634+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.635+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.635+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.635+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.635+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.636+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.636+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.637+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:53:09.637+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.637+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.638+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.638+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.638+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.638+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.639+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.639+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.639+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.639+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.640+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.642+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:09.644+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:09.646+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.647+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.648+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.648+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@76f58d0}
2025-05-04T02:53:09.648+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@76f58d0}
2025-05-04T02:53:09.648+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:09.648+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:09.648+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5b610c90, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6ebdb938]
2025-05-04T02:53:09.649+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:53:09.649+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5b610c90, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:09.649+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:09.650+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.650+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.650+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.651+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.651+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.652+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.652+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.652+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.652+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.652+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.653+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.653+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.654+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:09.654+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.654+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.655+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:09.655+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:53:09.655+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.655+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:53:09.656+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@75ee63f2]; rollback [true]
2025-05-04T02:53:09.656+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.656+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.657+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.657+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:53:09.993+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:53:09.995+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@4aa8504f}
2025-05-04T02:53:09.996+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.996+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@4aa8504f}
2025-05-04T02:53:09.996+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:09.997+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:53:09.997+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:09.998+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:10.000+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:53:10.005+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.005+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.006+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.006+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.006+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.007+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.007+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.007+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.009+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:53:10.009+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.009+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.010+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.010+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.011+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.011+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.011+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.012+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.012+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.013+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.015+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:10.017+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:10.021+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.021+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.022+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.023+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@232dda63}
2025-05-04T02:53:10.023+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@232dda63}
2025-05-04T02:53:10.023+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:10.023+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:10.024+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2f541378, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2b1cf779]
2025-05-04T02:53:10.024+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:53:10.024+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@2f541378, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:10.025+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:10.026+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.026+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.026+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.026+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.027+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.027+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.027+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.027+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.027+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.028+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.028+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.028+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.029+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.029+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.029+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.029+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.030+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.030+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.030+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.032+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:10.034+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:10.036+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.037+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.037+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@728c3a0e}
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@728c3a0e}
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@168740db, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1c179a3e]
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@168740db, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:53:10.039+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:53:10.040+09:00 DEBUG 18992 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:53:10.043+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:53:10.051+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:53:10.055+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:53:10.078+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:53:10.079+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.080+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.081+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.081+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.081+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.082+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.083+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.083+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.083+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.083+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.084+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.084+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.085+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.085+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.085+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.086+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.086+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.086+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.087+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.088+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.088+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:53:10.089+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:10.089+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:53:10.089+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:10.090+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.090+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.091+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.092+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.092+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.093+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.093+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.094+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.094+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.094+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.096+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.096+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.096+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.097+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.099+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:10.100+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:10.103+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.103+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2ef1b7f4}
2025-05-04T02:53:10.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@2ef1b7f4}
2025-05-04T02:53:10.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:10.104+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:10.105+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@29ac632a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3e45ca81]
2025-05-04T02:53:10.105+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:53:10.105+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@29ac632a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:10.106+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:10.106+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.106+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.107+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.107+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.107+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.107+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.108+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.108+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.108+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.108+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.109+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.109+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.109+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.110+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.110+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.111+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.111+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:53:10.111+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.111+09:00 DEBUG 18992 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:53:10.112+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@75ee63f2]; rollback [true]
2025-05-04T02:53:10.112+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.113+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.113+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.114+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:53:10.116+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:53:10.117+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.118+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.118+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.137+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:53:10.138+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@66ed4881}
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@66ed4881}
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@15d25244] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@578f8288, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@16f52d68]
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@66ed4881}
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@66ed4881}
2025-05-04T02:53:10.139+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@7002dacc] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:53:10.140+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:53:10.140+09:00 DEBUG 18992 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@578f8288, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:53:10.140+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:53:10.141+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:53:10.143+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.143+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.144+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.144+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.144+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.145+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.145+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.146+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.147+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:53:10.147+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.147+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.148+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.148+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.148+09:00 DEBUG 18992 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.148+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.148+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.149+09:00 DEBUG 18992 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.149+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.149+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.150+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.150+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.151+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:53:10.151+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:53:10.151+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:53:10.151+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:53:10.152+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.152+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.153+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.153+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.153+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.153+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.154+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.154+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.154+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.154+09:00 DEBUG 18992 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:53:10.155+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.155+09:00 DEBUG 18992 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@6a4940e1 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 418, missCount = 2, failureCount = 0]
2025-05-04T02:53:10.155+09:00 DEBUG 18992 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:53:10.163+09:00 DEBUG 18992 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1542af63, started on Sun May 04 02:53:00 GMT+09:00 2025
2025-05-04T02:53:10.189+09:00 DEBUG 18992 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4cd886b7, started on Sun May 04 02:53:07 GMT+09:00 2025
2025-05-04T02:58:06.768+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1542af63
2025-05-04T02:58:09.854+09:00  WARN 24824 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:58:11.656+09:00  WARN 24824 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:58:11.730+09:00  INFO 24824 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:58:12.245+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:58:12.556+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:58:12.746+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:58:13.249+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:58:13.370+09:00 DEBUG 24824 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:58:14.172+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4271960c
2025-05-04T02:58:14.491+09:00  WARN 24824 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:58:14.698+09:00  WARN 24824 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:58:14.704+09:00  INFO 24824 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:58:14.732+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:58:14.772+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:58:14.795+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:58:14.847+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:58:14.867+09:00 DEBUG 24824 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:58:14.948+09:00  INFO 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:58:14.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:58:14.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:58:14.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:58:14.950+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7fef485d
2025-05-04T02:58:14.951+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4baf3987
2025-05-04T02:58:14.951+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:58:14.952+09:00  INFO 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2025-05-04T02:58:14.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:58:14.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:14.967+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:14.968+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:58:14.969+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:58:14.971+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:14.972+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:58:14.972+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:58:14.979+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.106+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.151+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.166+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.167+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.169+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.176+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@a4aecc3}
2025-05-04T02:58:15.176+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@a4aecc3}
2025-05-04T02:58:15.177+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.178+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@a4aecc3}
2025-05-04T02:58:15.180+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@a4aecc3}
2025-05-04T02:58:15.180+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@662754bb]
2025-05-04T02:58:15.184+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.185+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3aac9173, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6e847a7]
2025-05-04T02:58:15.199+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:58:15.208+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3aac9173, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:15.209+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:15.225+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.225+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.227+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.227+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.227+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.227+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.227+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.227+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.228+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.228+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.229+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.229+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.229+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.229+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.230+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.231+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.231+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.232+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.232+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.234+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.236+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.237+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.239+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.239+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.240+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1467dcd0}
2025-05-04T02:58:15.241+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1467dcd0}
2025-05-04T02:58:15.241+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.241+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.241+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1ea6446b, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@39d0775c]
2025-05-04T02:58:15.242+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:58:15.242+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1ea6446b, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:15.242+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:58:15.246+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:58:15.246+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:58:15.286+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:58:15.288+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.289+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.292+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.328+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:58:15.339+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:15.679+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:15.683+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.683+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.684+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.685+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.685+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.685+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.686+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.686+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.686+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.687+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.688+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.688+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.688+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.689+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.689+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.690+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.690+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.691+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.693+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.694+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.695+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:58:15.697+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:15.700+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:58:15.701+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:15.703+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.704+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.706+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.706+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.706+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.708+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.709+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.709+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.710+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.711+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.712+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.712+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.713+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.713+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.714+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.715+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.715+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.716+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.716+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.719+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.720+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.722+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.724+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.725+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.726+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@cd7871e}
2025-05-04T02:58:15.726+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@cd7871e}
2025-05-04T02:58:15.727+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.727+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.727+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@b14a2c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@b7da2c4]
2025-05-04T02:58:15.727+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:58:15.728+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@b14a2c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:15.728+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:58:15.728+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:58:15.729+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:58:15.734+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:58:15.738+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:15.797+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:15.809+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.809+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.810+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.811+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.811+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.811+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.812+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.812+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.813+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.813+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.814+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.815+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.815+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.815+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.816+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.816+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.817+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.817+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.818+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.819+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.821+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.823+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.824+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.825+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.826+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@55feda3f}
2025-05-04T02:58:15.827+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@55feda3f}
2025-05-04T02:58:15.827+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.827+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.827+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@787073b3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@53a52b3f]
2025-05-04T02:58:15.828+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:58:15.828+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@787073b3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:15.828+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:15.829+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.829+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.830+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.830+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.830+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.830+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.831+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.831+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.832+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.832+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.832+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.832+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.833+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.833+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.833+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.834+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.834+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.834+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.835+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.836+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.836+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:58:15.837+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:15.837+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:58:15.837+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:15.838+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.838+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.839+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.839+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.839+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.839+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.840+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.840+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.840+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.840+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:58:15.841+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.841+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.841+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.845+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:58:15.845+09:00  INFO 24824 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:58:15.849+09:00 DEBUG 24824 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:58:15.850+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.850+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.851+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.851+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.851+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.852+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.853+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.853+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.855+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:58:15.856+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.858+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:58:15.860+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3ae648d2]; rollback [true]
2025-05-04T02:58:15.861+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.861+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.862+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.863+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.865+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.866+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.867+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.868+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.870+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@69c70b62}
2025-05-04T02:58:15.870+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@69c70b62}
2025-05-04T02:58:15.870+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.870+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.870+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@664c0019, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@495fa126]
2025-05-04T02:58:15.871+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@69c70b62}
2025-05-04T02:58:15.871+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:15.872+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@69c70b62}
2025-05-04T02:58:15.872+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:15.876+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@69c70b62}
2025-05-04T02:58:15.876+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@5a487b86]
2025-05-04T02:58:15.878+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:58:15.880+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@664c0019, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:15.880+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:15.882+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:58:15.930+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.930+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.931+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.931+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.931+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.932+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.932+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.932+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.935+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:58:15.935+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.936+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.936+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.936+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.937+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.937+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.937+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.937+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.938+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.938+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.938+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.940+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.942+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.944+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.945+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.946+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.947+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5ae6a240}
2025-05-04T02:58:15.947+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5ae6a240}
2025-05-04T02:58:15.947+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@56b9a73c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@41576e84]
2025-05-04T02:58:15.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:58:15.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@56b9a73c, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:15.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:15.950+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.950+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.951+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.952+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.952+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.952+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.954+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.954+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.954+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.954+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.955+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.955+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.956+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.956+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.957+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.957+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.958+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:58:15.959+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:15.959+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:58:15.959+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:15.960+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.961+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.961+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.961+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.961+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.962+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.962+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.962+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.962+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.962+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:15.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.965+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:15.965+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.965+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.965+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.967+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:15.969+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:15.971+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.972+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.973+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:58:15.974+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6573b345}
2025-05-04T02:58:15.974+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6573b345}
2025-05-04T02:58:15.974+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:15.974+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:15.974+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5c085d4a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3fc0a2c]
2025-05-04T02:58:15.976+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:58:15.977+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5c085d4a, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:15.977+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:58:15.977+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:58:15.977+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:58:15.979+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:58:15.983+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:16.111+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:16.119+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.119+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.120+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.120+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.120+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.120+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.121+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.121+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.121+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.121+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.122+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.122+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.122+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.123+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.123+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.124+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.125+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.125+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.126+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.127+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.128+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:58:16.129+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:16.129+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:58:16.129+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:16.130+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.131+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.131+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.131+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.132+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.132+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.133+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.133+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.134+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.134+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.134+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.134+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.135+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.135+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.135+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.135+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.136+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.136+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.137+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.139+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.139+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.140+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.146+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@47ce44ab}
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@47ce44ab}
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@48f27e0b]
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@47ce44ab}
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@47ce44ab}
2025-05-04T02:58:16.147+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.148+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:58:16.149+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:16.149+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:58:16.149+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:58:16.150+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:58:16.202+09:00 DEBUG 24824 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:58:16.205+09:00 DEBUG 24824 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:58:16.207+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:58:16.211+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:16.287+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:16.299+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.299+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.300+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.300+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.301+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.302+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.302+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.302+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.303+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.303+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.311+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.311+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.311+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.311+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.311+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.312+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.312+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:58:16.312+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.312+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:58:16.313+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3ae648d2]; rollback [true]
2025-05-04T02:58:16.313+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.313+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.314+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.314+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.315+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6d2d04ef}
2025-05-04T02:58:16.315+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.315+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6d2d04ef}
2025-05-04T02:58:16.315+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.316+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:58:16.316+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:16.316+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:16.317+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:58:16.319+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.319+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.320+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.320+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.320+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.320+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.320+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.321+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.321+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:58:16.322+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.322+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.323+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.323+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.323+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.323+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.323+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.325+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.325+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.325+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.326+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.329+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.331+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.332+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.333+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.333+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.334+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4a3ef4c9}
2025-05-04T02:58:16.334+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4a3ef4c9}
2025-05-04T02:58:16.334+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.334+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.334+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6fc26fb1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@362e1181]
2025-05-04T02:58:16.335+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:58:16.335+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6fc26fb1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:16.335+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:58:16.335+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:58:16.335+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:58:16.337+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:16.403+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:16.404+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.404+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.405+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.405+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.405+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.405+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.406+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.406+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.406+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.406+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.407+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.407+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.407+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.407+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.407+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.409+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.409+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.409+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.410+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.411+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.413+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.415+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.416+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.416+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.417+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@c4e440b}
2025-05-04T02:58:16.417+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@c4e440b}
2025-05-04T02:58:16.417+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.417+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.417+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3c8eaee3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6a8b47ac]
2025-05-04T02:58:16.418+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:58:16.418+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3c8eaee3, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:16.418+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:58:16.418+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:58:16.419+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:58:16.420+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:58:16.424+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:16.444+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:16.445+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.446+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.446+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.446+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.446+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.447+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.447+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.447+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.447+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.447+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.448+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.448+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.448+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.449+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.449+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.449+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.450+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:58:16.450+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.450+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:58:16.450+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3ae648d2]; rollback [true]
2025-05-04T02:58:16.451+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.451+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.451+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.453+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.454+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.456+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.456+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.457+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.458+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@65354578}
2025-05-04T02:58:16.458+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@65354578}
2025-05-04T02:58:16.458+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.458+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.458+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5c176a0f, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5f30bcf3]
2025-05-04T02:58:16.458+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@65354578}
2025-05-04T02:58:16.459+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.459+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@65354578}
2025-05-04T02:58:16.459+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.459+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:58:16.460+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5c176a0f, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:16.460+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:58:16.460+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:58:16.460+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:58:16.460+09:00 DEBUG 24824 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:58:16.461+09:00 DEBUG 24824 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:58:16.461+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:58:16.481+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:58:16.488+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:58:16.490+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.491+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.492+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.492+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.492+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.493+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.494+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.494+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.495+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:58:16.496+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.496+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.497+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.497+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.497+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.498+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.498+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.498+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.498+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.498+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.499+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.500+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.502+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.503+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.505+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.506+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.507+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@524911cd}
2025-05-04T02:58:16.507+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@524911cd}
2025-05-04T02:58:16.507+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.507+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.508+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1fb029e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@8a37c6a]
2025-05-04T02:58:16.508+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:58:16.509+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@1fb029e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:16.509+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:16.510+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.510+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.511+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.511+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.511+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.512+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.512+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.512+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.513+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.513+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.514+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.514+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.514+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.514+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.514+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.515+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.515+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:58:16.515+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.516+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:58:16.516+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3ae648d2]; rollback [true]
2025-05-04T02:58:16.517+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.517+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.517+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.518+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.863+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:58:16.865+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7e7a6f81}
2025-05-04T02:58:16.865+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.865+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7e7a6f81}
2025-05-04T02:58:16.865+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:16.866+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:58:16.867+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:16.867+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:16.868+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:58:16.872+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.872+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.873+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.873+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.873+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.874+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.874+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.874+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.876+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:58:16.876+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.876+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.877+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.877+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.878+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.878+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.878+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.878+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.879+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.879+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.879+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.882+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.885+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.887+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.887+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.888+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.888+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@25f90920}
2025-05-04T02:58:16.888+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@25f90920}
2025-05-04T02:58:16.888+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.888+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.888+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@d813294, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2613a6fc]
2025-05-04T02:58:16.889+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:58:16.890+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@d813294, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:16.890+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:16.890+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.891+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.891+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.891+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.891+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.892+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.892+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.892+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.892+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.892+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.893+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.893+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.893+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.893+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.894+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.894+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.894+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.894+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.895+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.896+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.898+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.900+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.900+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.901+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.901+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@256bfbbb}
2025-05-04T02:58:16.901+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@256bfbbb}
2025-05-04T02:58:16.901+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.901+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.901+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@363502a4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7ab66d54]
2025-05-04T02:58:16.902+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:58:16.902+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@363502a4, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:58:16.902+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:58:16.902+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:58:16.902+09:00 DEBUG 24824 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:58:16.905+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:58:16.912+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:58:16.916+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:58:16.937+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:58:16.939+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.939+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.940+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.941+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.941+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.941+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.942+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.942+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.942+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.943+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.944+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.944+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.944+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.944+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.945+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.945+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.945+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.946+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.946+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.947+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:58:16.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:16.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:58:16.948+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:16.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.949+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.950+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.950+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.950+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.951+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.951+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.952+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.952+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.952+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.953+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.955+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.955+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.955+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.956+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.958+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.960+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.961+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.962+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3631667d}
2025-05-04T02:58:16.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@3631667d}
2025-05-04T02:58:16.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:16.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:16.963+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@37de86e1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@32e58546]
2025-05-04T02:58:16.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:58:16.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@37de86e1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:16.964+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:16.965+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.965+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.966+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.967+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.967+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.967+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.967+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.968+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.968+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:16.968+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.968+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.969+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:16.969+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:58:16.969+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.969+09:00 DEBUG 24824 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:58:16.970+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3ae648d2]; rollback [true]
2025-05-04T02:58:16.971+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.971+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.971+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.972+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:58:16.974+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:58:16.977+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.978+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:58:16.978+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.003+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:58:17.006+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6e1134e1}
2025-05-04T02:58:17.006+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6e1134e1}
2025-05-04T02:58:17.006+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@34788780] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:58:17.006+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:58:17.007+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@31fe5168, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3f02095]
2025-05-04T02:58:17.007+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6e1134e1}
2025-05-04T02:58:17.007+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:17.007+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@6e1134e1}
2025-05-04T02:58:17.008+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@5e9355a6] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:58:17.009+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:58:17.009+09:00 DEBUG 24824 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@31fe5168, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:58:17.010+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:58:17.011+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:58:17.013+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.014+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.014+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.014+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.014+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.015+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.016+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.016+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.018+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:58:17.018+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:17.018+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:17.019+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.019+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:17.019+09:00 DEBUG 24824 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:17.019+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.019+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.020+09:00 DEBUG 24824 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:17.020+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.020+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.021+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.022+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.023+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:58:17.023+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:58:17.024+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:58:17.024+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:58:17.025+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.026+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.027+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.027+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.027+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.027+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.028+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.028+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.028+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:17.028+09:00 DEBUG 24824 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:58:17.028+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.029+09:00 DEBUG 24824 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@26204f8f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:58:17.029+09:00 DEBUG 24824 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:58:17.034+09:00 DEBUG 24824 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1542af63, started on Sun May 04 02:58:06 GMT+09:00 2025
2025-05-04T02:58:17.051+09:00 DEBUG 24824 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4271960c, started on Sun May 04 02:58:14 GMT+09:00 2025
2025-05-04T02:59:29.013+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1542af63
2025-05-04T02:59:31.961+09:00  WARN 22844 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:59:33.819+09:00  WARN 22844 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:59:33.898+09:00  INFO 22844 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:59:34.349+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:59:34.622+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:59:34.777+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:59:35.191+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:59:35.364+09:00 DEBUG 22844 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:59:36.163+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@a1143cc
2025-05-04T02:59:36.475+09:00  WARN 22844 --- [nagoyameshi] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-05-04T02:59:36.672+09:00  WARN 22844 --- [nagoyameshi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04T02:59:36.679+09:00  INFO 22844 --- [nagoyameshi] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-04T02:59:36.704+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-05-04T02:59:36.741+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-05-04T02:59:36.761+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-04T02:59:36.824+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04T02:59:36.848+09:00 DEBUG 22844 --- [nagoyameshi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04T02:59:36.915+09:00  INFO 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-04T02:59:36.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected StandardServletMultipartResolver
2025-05-04T02:59:36.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected AcceptHeaderLocaleResolver
2025-05-04T02:59:36.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected FixedThemeResolver
2025-05-04T02:59:36.918+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5034e0c6
2025-05-04T02:59:36.918+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Detected org.springframework.web.servlet.support.SessionFlashMapManager@363b7709
2025-05-04T02:59:36.919+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04T02:59:36.919+09:00  INFO 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-05-04T02:59:36.932+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2025-05-04T02:59:36.932+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:36.934+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:36.934+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2025-05-04T02:59:36.937+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2025-05-04T02:59:36.940+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:36.941+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2025-05-04T02:59:36.942+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2025-05-04T02:59:36.948+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.070+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.102+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.114+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.116+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.117+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.123+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7574d30b}
2025-05-04T02:59:37.124+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7574d30b}
2025-05-04T02:59:37.124+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.125+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7574d30b}
2025-05-04T02:59:37.126+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7574d30b}
2025-05-04T02:59:37.126+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'securityContextRepository' of type [null] on target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$SecurityContextRequestPostProcessorSupport$TestSecurityContextRepository@59f59a0a]
2025-05-04T02:59:37.130+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.130+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@37b17938, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@54ba7b3f]
2025-05-04T02:59:37.145+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:59:37.151+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@37b17938, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:37.153+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:37.164+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.164+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.165+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.165+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.166+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.166+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.167+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.167+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.168+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員詳細ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.168+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.170+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.170+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.171+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.172+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.172+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.173+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.173+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.174+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.174+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.177+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.179+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.180+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.181+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.182+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.183+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@29c471f6}
2025-05-04T02:59:37.183+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@29c471f6}
2025-05-04T02:59:37.183+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.183+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.183+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6859f102, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@424769f2]
2025-05-04T02:59:37.184+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:59:37.185+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6859f102, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:37.185+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2025-05-04T02:59:37.187+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users", parameters={}
2025-05-04T02:59:37.189+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#index(String, Pageable, Model)
2025-05-04T02:59:37.224+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 order by u1_0.id limit ?,?
2025-05-04T02:59:37.226+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.228+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.230+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.244+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(u1_0.id) from users u1_0
2025-05-04T02:59:37.256+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:37.637+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:37.641+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.642+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.643+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.643+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.643+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.643+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.645+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.645+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.645+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員一覧ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.645+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.646+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.646+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.647+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.647+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.648+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.649+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.649+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.650+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.651+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.653+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.655+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:59:37.657+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:37.660+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users/1?continue to session
2025-05-04T02:59:37.661+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:37.663+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.664+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.666+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.666+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.666+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.667+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.667+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.668+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.669+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員詳細ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.670+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.672+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.672+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.673+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.673+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.673+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.674+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.675+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.675+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.676+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.678+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.679+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.681+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.683+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.685+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.685+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4a1978df}
2025-05-04T02:59:37.686+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4a1978df}
2025-05-04T02:59:37.686+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.686+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.686+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@cd7871e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@b14a2c]
2025-05-04T02:59:37.687+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/1
2025-05-04T02:59:37.688+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@cd7871e, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:37.688+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/users/1
2025-05-04T02:59:37.688+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/users/1", parameters={}
2025-05-04T02:59:37.688+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminUserController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:59:37.694+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,r1_0.id,r1_0.name,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2025-05-04T02:59:37.698+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:37.746+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:37.757+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.757+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.758+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.759+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.759+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.759+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.759+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.760+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.760+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [管理者としてログイン済みの場合は管理者用の会員詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.760+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.761+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.761+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.761+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.762+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.762+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.763+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.763+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.763+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.764+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.766+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.767+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.769+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.770+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.771+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.772+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4a115c4c}
2025-05-04T02:59:37.772+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4a115c4c}
2025-05-04T02:59:37.772+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.772+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.773+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@55feda3f, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@787073b3]
2025-05-04T02:59:37.773+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:59:37.773+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@55feda3f, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:37.774+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:37.775+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.775+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.775+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.775+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.776+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.776+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.777+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.777+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.777+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の会員一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.778+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.778+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.779+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.779+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.779+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.779+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.780+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.780+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.780+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.781+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.782+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.782+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2025-05-04T02:59:37.783+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:37.783+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/users?continue to session
2025-05-04T02:59:37.783+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:37.784+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.784+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.785+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.785+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.786+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.786+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.787+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.787+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.787+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminUserControllerTest], method [未ログインの場合は管理者用の会員一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.788+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminUserControllerTest
2025-05-04T02:59:37.788+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.788+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.789+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminUserControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.791+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-05-04T02:59:37.791+09:00  INFO 22844 --- [nagoyameshi] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]: AdminRestaurantControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-04T02:59:37.795+09:00 DEBUG 22844 --- [nagoyameshi] [main] .s.t.c.u.TestContextSpringFactoriesUtils : Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2025-05-04T02:59:37.796+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.796+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.797+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.797+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.797+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.797+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.798+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.799+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.801+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:59:37.801+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.804+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:59:37.806+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a02063a]; rollback [true]
2025-05-04T02:59:37.806+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.806+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.807+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.809+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.810+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.812+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.813+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.814+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a11426a}
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a11426a}
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@69c70b62, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@664c0019]
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a11426a}
2025-05-04T02:59:37.816+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:37.817+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a11426a}
2025-05-04T02:59:37.817+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:37.819+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@7a11426a}
2025-05-04T02:59:37.820+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Setting field 'tokenRepository' of type [null] on target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter] to value [org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors$CsrfRequestPostProcessor$TestCsrfTokenRepository@6e2ab1f4]
2025-05-04T02:59:37.822+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:59:37.823+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@69c70b62, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:37.823+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:37.824+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:59:37.869+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.870+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.870+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.870+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.871+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.871+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.872+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.872+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.874+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する]
2025-05-04T02:59:37.875+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を削除せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.875+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.876+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.876+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.876+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.876+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.877+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.878+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.878+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.878+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.879+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.882+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.883+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.886+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.887+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.887+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.888+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@bafb3bd}
2025-05-04T02:59:37.888+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@bafb3bd}
2025-05-04T02:59:37.888+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.889+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.889+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5ae6a240, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@56b9a73c]
2025-05-04T02:59:37.889+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:59:37.890+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@5ae6a240, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:37.890+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:37.891+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.891+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.892+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.892+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.893+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.893+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.894+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.894+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.895+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗編集ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.895+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.896+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.896+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.896+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.896+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.897+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.897+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.902+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:59:37.902+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:37.903+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1/edit?continue to session
2025-05-04T02:59:37.903+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:37.904+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.904+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.905+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.905+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.905+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.906+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.906+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.906+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.906+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗編集ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.907+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.908+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.908+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.908+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:37.908+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.908+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.909+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:37.909+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.909+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.909+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.911+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:37.913+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:37.915+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2025-05-04T02:59:37.917+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@61668c05}
2025-05-04T02:59:37.917+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@61668c05}
2025-05-04T02:59:37.917+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:37.917+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:37.917+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6573b345, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5c085d4a]
2025-05-04T02:59:37.918+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1/edit
2025-05-04T02:59:37.919+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6573b345, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:37.919+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1/edit
2025-05-04T02:59:37.920+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1/edit", parameters={}
2025-05-04T02:59:37.920+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#edit(Integer, RedirectAttributes, Model)
2025-05-04T02:59:37.922+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:59:37.925+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:38.065+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:38.072+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.073+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.073+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.074+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.074+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.074+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.075+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.075+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.075+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗編集ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.075+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.076+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.076+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.076+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.076+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.077+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.077+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.077+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.077+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.078+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.079+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.080+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:59:38.080+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:38.081+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/register?continue to session
2025-05-04T02:59:38.081+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:38.081+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.082+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.082+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.082+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.083+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.083+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.084+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.085+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.085+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を登録せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.085+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.086+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.086+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.086+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.086+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.086+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.087+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.087+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.087+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.088+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.090+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.091+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.091+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.097+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7d33e32b}
2025-05-04T02:59:38.097+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7d33e32b}
2025-05-04T02:59:38.097+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.097+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.097+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@47ce44ab]
2025-05-04T02:59:38.097+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7d33e32b}
2025-05-04T02:59:38.098+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.098+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7d33e32b}
2025-05-04T02:59:38.098+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.099+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:59:38.099+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=hanako.samurai@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:38.099+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/update
2025-05-04T02:59:38.100+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/update", parameters={multipart}
2025-05-04T02:59:38.100+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#update(RestaurantEditForm, BindingResult, Integer, RedirectAttributes, Model)
2025-05-04T02:59:38.152+09:00 DEBUG 22844 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:59:38.156+09:00 DEBUG 22844 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.update(com.example.nagoyameshi.form.RestaurantEditForm,org.springframework.validation.BindingResult,java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.ui.Model); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:59:38.157+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:59:38.159+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:38.222+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:38.230+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.231+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.231+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.231+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.233+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.233+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.233+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.234+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.234+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗更新後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.234+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.240+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.240+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.240+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.240+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.240+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.241+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.241+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:59:38.241+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.241+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を削除せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:59:38.242+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a02063a]; rollback [true]
2025-05-04T02:59:38.243+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.243+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.243+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.244+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.244+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6820ab53}
2025-05-04T02:59:38.245+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.245+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@6820ab53}
2025-05-04T02:59:38.245+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.245+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:59:38.246+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:38.246+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:38.247+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:59:38.249+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.249+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.249+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.249+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.250+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.250+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.250+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.250+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.251+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする]
2025-05-04T02:59:38.251+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を削除せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.251+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.252+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.252+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.252+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.252+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.253+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.253+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.254+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.254+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.254+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.257+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.259+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.260+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.261+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.261+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.262+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12026d62}
2025-05-04T02:59:38.262+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@12026d62}
2025-05-04T02:59:38.262+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.262+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.262+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4a3ef4c9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6fc26fb1]
2025-05-04T02:59:38.262+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:59:38.263+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@4a3ef4c9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:38.263+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/register
2025-05-04T02:59:38.263+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/register", parameters={}
2025-05-04T02:59:38.263+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#register(Model)
2025-05-04T02:59:38.264+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:38.334+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:38.337+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.337+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.338+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.338+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.338+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.338+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.339+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.339+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.340+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗登録後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.340+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.341+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.341+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.341+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.341+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.342+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.343+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.343+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.343+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.344+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.346+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.347+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.349+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.350+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.350+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.351+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1fd2716f}
2025-05-04T02:59:38.351+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@1fd2716f}
2025-05-04T02:59:38.351+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.351+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.352+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@c4e440b, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3c8eaee3]
2025-05-04T02:59:38.353+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:59:38.353+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@c4e440b, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:38.353+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants/1
2025-05-04T02:59:38.353+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants/1", parameters={}
2025-05-04T02:59:38.354+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#show(Integer, RedirectAttributes, Model)
2025-05-04T02:59:38.355+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:59:38.358+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:38.377+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:38.378+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.379+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.379+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.380+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.380+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.380+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.381+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.381+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.381+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗登録ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.381+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.382+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.382+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.382+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.382+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.383+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.383+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.383+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:59:38.383+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.384+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:59:38.384+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a02063a]; rollback [true]
2025-05-04T02:59:38.385+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.385+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.386+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.387+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.389+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.391+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.391+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.392+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.392+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@278e721e}
2025-05-04T02:59:38.392+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@278e721e}
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@65354578, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@5c176a0f]
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@278e721e}
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@278e721e}
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.393+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/delete
2025-05-04T02:59:38.394+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@65354578, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:38.394+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured POST /admin/restaurants/1/delete
2025-05-04T02:59:38.394+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : POST "/admin/restaurants/1/delete", parameters={masked}
2025-05-04T02:59:38.394+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#delete(Integer, RedirectAttributes)
2025-05-04T02:59:38.395+09:00 DEBUG 22844 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:59:38.395+09:00 DEBUG 22844 --- [nagoyameshi] [main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.example.nagoyameshi.controller.AdminRestaurantController.delete(java.lang.Integer,org.springframework.web.servlet.mvc.support.RedirectAttributes); target is of class [com.example.nagoyameshi.controller.AdminRestaurantController]
2025-05-04T02:59:38.396+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 where r1_0.id=?
2025-05-04T02:59:38.417+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.web.servlet.view.RedirectView        : View name [redirect:], model {}
2025-05-04T02:59:38.419+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 302 FOUND
2025-05-04T02:59:38.422+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.422+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.422+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.423+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.423+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.423+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.423+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.423+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.424+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする]
2025-05-04T02:59:38.425+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は店舗削除後に店舗一覧ページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.425+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.426+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.426+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.426+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.426+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.426+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.427+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.428+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.428+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.429+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.431+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.433+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.434+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.435+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.437+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.438+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4917a741}
2025-05-04T02:59:38.438+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@4917a741}
2025-05-04T02:59:38.438+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.438+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.438+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@524911cd, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1fb029e]
2025-05-04T02:59:38.438+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/register
2025-05-04T02:59:38.439+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@524911cd, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:38.439+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:38.440+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.440+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.441+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.441+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.442+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.443+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.444+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.444+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.444+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を登録せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.445+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.446+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.446+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.446+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.446+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.446+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.447+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.447+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:59:38.447+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.447+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.未ログインの場合は店舗を更新せずにログインページにリダイレクトする() throws java.lang.Exception]
2025-05-04T02:59:38.448+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a02063a]; rollback [true]
2025-05-04T02:59:38.449+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.449+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.450+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.450+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.812+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:59:38.813+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7abc82fa}
2025-05-04T02:59:38.814+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.814+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@7abc82fa}
2025-05-04T02:59:38.814+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.815+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:59:38.815+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:38.815+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:38.817+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:59:38.822+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 309, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.822+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 310, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.822+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 311, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.822+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 312, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.823+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 313, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.823+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 314, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.823+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 315, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.823+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 316, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.825+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする]
2025-05-04T02:59:38.825+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は店舗を更新せずにログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.825+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.826+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 317, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.826+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.826+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.826+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 318, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.828+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 319, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.829+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.829+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 320, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.829+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 321, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.830+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 322, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.834+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.837+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.839+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 323, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.840+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 324, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.841+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 325, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.842+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5f708ac6}
2025-05-04T02:59:38.842+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@5f708ac6}
2025-05-04T02:59:38.842+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.843+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.843+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@25f90920, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@d813294]
2025-05-04T02:59:38.843+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:59:38.843+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@25f90920, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:38.843+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:38.844+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 326, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.844+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 327, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.845+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 328, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.845+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 329, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.845+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 330, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.845+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 331, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.846+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 332, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.846+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 333, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.846+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗一覧ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.846+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.847+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 334, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.847+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.847+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.848+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 335, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.848+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 336, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.849+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.849+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 337, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.849+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 338, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.849+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 339, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.851+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.853+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.855+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 340, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.856+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 341, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.856+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 342, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.857+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@55c14260}
2025-05-04T02:59:38.857+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@55c14260}
2025-05-04T02:59:38.857+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.857+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.857+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@256bfbbb, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.springframework.mock.web.MockHttpSession@363502a4]
2025-05-04T02:59:38.857+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:59:38.858+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@256bfbbb, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-05-04T02:59:38.858+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Secured GET /admin/restaurants
2025-05-04T02:59:38.858+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : GET "/admin/restaurants", parameters={}
2025-05-04T02:59:38.858+09:00 DEBUG 22844 --- [nagoyameshi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.nagoyameshi.controller.AdminRestaurantController#index(String, Pageable, Model)
2025-05-04T02:59:38.861+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.address,r1_0.closing_time,r1_0.created_at,r1_0.description,r1_0.highest_price,r1_0.image,r1_0.lowest_price,r1_0.name,r1_0.opening_time,r1_0.postal_code,r1_0.seating_capacity,r1_0.updated_at from restaurants r1_0 order by r1_0.id limit ?,?
2025-05-04T02:59:38.868+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(r1_0.id) from restaurants r1_0
2025-05-04T02:59:38.871+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [*/*]
2025-05-04T02:59:38.895+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed 200 OK
2025-05-04T02:59:38.897+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 343, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.897+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 344, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 345, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 346, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 347, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 348, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.898+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 349, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.899+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 350, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.899+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [管理者としてログイン済みの場合は管理者用の店舗詳細ページが正しく表示される], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.899+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 351, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 352, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.900+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 353, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.901+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.902+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 354, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.902+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 355, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.903+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 356, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.904+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 357, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.905+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants
2025-05-04T02:59:38.906+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:38.907+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants?continue to session
2025-05-04T02:59:38.907+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:38.909+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 358, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.909+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 359, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.910+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 360, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.910+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 361, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.910+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 362, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.911+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 363, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.911+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 364, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.912+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 365, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.912+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗一覧ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.912+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.913+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 366, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.914+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.914+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.914+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 367, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.915+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 368, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.915+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 369, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 370, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.916+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 371, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.920+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.922+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.923+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 372, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.924+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 373, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.925+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 374, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.925+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@487e4b06}
2025-05-04T02:59:38.925+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockHttpServletRequest@487e4b06}
2025-05-04T02:59:38.925+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.925+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.926+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3631667d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@37de86e1]
2025-05-04T02:59:38.926+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:59:38.926+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@3631667d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:38.926+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:38.927+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 375, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.927+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 376, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.928+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 377, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.928+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 378, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.928+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 379, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.928+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 380, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.929+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 381, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.929+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 382, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.929+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は管理者用の店舗登録ページが表示されずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.929+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.930+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 383, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.930+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.930+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.930+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 384, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.930+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 385, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.931+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.931+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : Explicit transaction definition [PROPAGATION_REQUIRED,ISOLATION_DEFAULT] found for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest] and test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:59:38.931+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 386, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.931+09:00 DEBUG 22844 --- [nagoyameshi] [main] t.c.t.TransactionalTestExecutionListener : No method-level @Rollback override: using default rollback [true] for test method [public void com.example.nagoyameshi.controller.AdminRestaurantControllerTest.一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する() throws java.lang.Exception]
2025-05-04T02:59:38.932+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a02063a]; rollback [true]
2025-05-04T02:59:38.933+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 387, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.933+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 388, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.933+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 389, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.935+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.birthday,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.furigana,u1_0.name,u1_0.occupation,u1_0.password,u1_0.phone_number,u1_0.postal_code,u1_0.role_id,u1_0.stripe_customer_id,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-05-04T02:59:38.937+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.name from roles r1_0 where r1_0.id=?
2025-05-04T02:59:38.939+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 390, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.940+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 391, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.940+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 392, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.968+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@57e9dd1f}
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@57e9dd1f}
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'securityContextRepository' from target object [org.springframework.security.web.context.SecurityContextHolderFilter@d374c01] or target class [class org.springframework.security.web.context.SecurityContextHolderFilter]
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6e1134e1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@31fe5168]
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@57e9dd1f}
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'tokenRepository' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Invoking method 'getFilters' on target object [FilterChainProxy[Filter Chains: null]] or target class [null] with arguments {org.springframework.mock.web.MockMultipartHttpServletRequest@57e9dd1f}
2025-05-04T02:59:38.970+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.test.util.ReflectionTestUtils        : Getting field 'requestHandler' from target object [org.springframework.security.web.csrf.CsrfFilter@796eeafb] or target class [class org.springframework.security.web.csrf.CsrfFilter]
2025-05-04T02:59:38.971+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing POST /admin/restaurants/1/update
2025-05-04T02:59:38.971+09:00 DEBUG 22844 --- [nagoyameshi] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.example.nagoyameshi.security.UserDetailsImpl@6e1134e1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_FREE_MEMBER]]]
2025-05-04T02:59:38.971+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-04T02:59:38.973+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.hibernate.SQL                        : select count(*) from restaurants r1_0
2025-05-04T02:59:38.974+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 393, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.974+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 394, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.975+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 395, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.975+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 396, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.975+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 397, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.975+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 398, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.976+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 399, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.976+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 400, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.977+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (1) for test class [com.example.nagoyameshi.controller.AdminRestaurantControllerTest]; test method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する]
2025-05-04T02:59:38.977+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [一般ユーザーとしてログイン済みの場合は店舗を更新せずに403エラーが発生する], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.977+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.978+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 401, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.979+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.979+09:00 DEBUG 22844 --- [nagoyameshi] [main] DependencyInjectionTestExecutionListener : Performing dependency injection for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.979+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 402, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.979+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 403, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.980+09:00 DEBUG 22844 --- [nagoyameshi] [main] sContextBeforeModesTestExecutionListener : Before test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.980+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 404, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.980+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 405, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.980+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 406, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.981+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 407, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.982+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.security.web.FilterChainProxy        : Securing GET /admin/restaurants/1
2025-05-04T02:59:38.982+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04T02:59:38.982+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost/admin/restaurants/1?continue to session
2025-05-04T02:59:38.983+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost/login
2025-05-04T02:59:38.983+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 408, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.984+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 409, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.984+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 410, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.985+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 411, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.985+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 412, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.985+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 413, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.986+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 414, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.986+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 415, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.986+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test method: class [AdminRestaurantControllerTest], method [未ログインの場合は管理者用の店舗登録ページからログインページにリダイレクトする], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.987+09:00 DEBUG 22844 --- [nagoyameshi] [main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test class com.example.nagoyameshi.controller.AdminRestaurantControllerTest
2025-05-04T02:59:38.988+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 416, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.988+09:00 DEBUG 22844 --- [nagoyameshi] [main] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@10744fff size = 2, maxSize = 32, parentContextCount = 0, hitCount = 417, missCount = 2, failureCount = 0]
2025-05-04T02:59:38.988+09:00 DEBUG 22844 --- [nagoyameshi] [main] .c.s.DirtiesContextTestExecutionListener : After test class: class [AdminRestaurantControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2025-05-04T02:59:38.995+09:00 DEBUG 22844 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1542af63, started on Sun May 04 02:59:29 GMT+09:00 2025
2025-05-04T02:59:39.029+09:00 DEBUG 22844 --- [nagoyameshi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@a1143cc, started on Sun May 04 02:59:36 GMT+09:00 2025
